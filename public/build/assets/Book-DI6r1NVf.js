import{_ as f,c as i,a as e,e as P,t as d,i as y,F as h,b as u,n as p,g as k,r as b,o as r,s as w,C as x,d as C,w as B,x as I,y as S}from"./sweetalert2.min-C72B2ZMm.js";import"./_commonjsHelpers-DSXiPLDm.js";const V={data(){return{buku:[],category:[],seeks:"",selectedCategories:[],currentPage:1,itemsPerPage:18}},mounted(){this.filterBooks(),this.getCategory()},methods:{filterBooks(){let t=this.$loading.show();window.axios.get("/getBook",{params:{categories:this.selectedCategories,search:this.searchQuery}}).then(a=>{this.seeks=this.searchQuery,this.buku=a.data,this.$router.push({path:this.$route.path,query:{}}),t.hide()}).catch(a=>{t.hide(),console.error(a)})},getCategory(){window.axios.get("/getCategory").then(t=>{this.category=t.data}).catch(t=>{console.error(t)})},previousPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},goToPage(t){this.currentPage=t}},computed:{searchQuery(){return this.$route.query.search||""},totalBuku(){return this.buku.length},totalPages(){return Math.ceil(this.totalBuku/this.itemsPerPage)},paginatedBuku(){const t=(this.currentPage-1)*this.itemsPerPage,a=t+this.itemsPerPage,g=this.buku.slice(t,a),_=4,n=[];for(let o=0;o<g.length;o+=_)n.push(g.slice(o,o+_));return n}},watch:{searchQuery(t,a){t!==""&&(this.selectedCategories=[],this.filterBooks())}}},m=t=>(I("data-v-f6aa9884"),t=t(),S(),t),N={class:"page-content"},K={class:"row"},Q={class:"divider divider-left-center"},T=m(()=>e("h2",null,"KOLEKSI BUKU",-1)),M={key:0},U={class:"col-12 text-start mb-3"},q={class:"btn-group"},z=m(()=>e("button",{type:"button",class:"btn btn-primary dropdown-toggle px-5 py-2","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"0,15"}," Kategori ",-1)),D={class:"dropdown-menu"},E=["id","value"],F=["for"],L={class:"text-start"},j={class:"text-muted text-end"},O={class:"col-12"},A={class:"row row-cols-2 row-cols-md-6"},G={class:"card"},H={class:"card-content"},J={class:"product-image"},R=["src","alt"],W={class:"card-body pt-0"},X={class:"card-title mb-0"},Y={href:"#"},Z=["title"],$={class:"row"},ee={class:"col-12"},te={"aria-label":"Page navigation"},se={class:"pagination justify-content-center"},oe=["onClick"],ae={key:1,class:"row text-center"},ie=m(()=>e("h6",null,"Buku Tidak tersedia",-1)),re=[ie];function ne(t,a,g,_,n,o){const v=b("router-link");return r(),i("div",N,[e("section",K,[e("div",Q,[T,n.seeks?(r(),i("div",M,[e("p",null,[P("hasil pencarian buku dengan kata kunci "),e("b",null,'"'+d(n.seeks)+'"',1)])])):y("",!0)]),e("div",U,[e("div",q,[z,e("ul",D,[(r(!0),i(h,null,u(n.category,s=>(r(),i("li",{key:s.id,class:"dropdown-item py-3"},[w(e("input",{type:"checkbox",id:s.id,class:"form-check-input me-2",value:s.id,"onUpdate:modelValue":a[0]||(a[0]=c=>n.selectedCategories=c),onChange:a[1]||(a[1]=(...c)=>o.filterBooks&&o.filterBooks(...c))},null,40,E),[[x,n.selectedCategories]]),e("label",{for:s.id},[e("span",L,d(s.description),1),e("span",j," ( "+d(s.total)+" ) ",1)],8,F)]))),128))])])]),e("div",O,[o.paginatedBuku.length>0?(r(),i(h,{key:0},[e("div",A,[(r(!0),i(h,null,u(o.paginatedBuku,(s,c)=>(r(),i(h,{key:c},[(r(!0),i(h,null,u(s,l=>(r(),i("div",{key:l.id,class:"col"},[C(v,{to:{name:"detail-buku",params:{idb:l.isbn}}},{default:B(()=>[e("div",G,[e("div",H,[e("div",J,[e("img",{src:l.image,alt:l.alt,class:"img-fluid"},null,8,R)]),e("div",W,[e("p",X,d(l.writer),1),e("a",Y,[e("h6",{class:"card-title mt-2","data-bs-toggle":"tooltip","data-bs-placement":"bottom",style:{display:"-webkit-box","line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden","text-overflow":"ellipsis"},title:l.title},d(l.title),9,Z)])])])])]),_:2},1032,["to"])]))),128))],64))),128))]),e("div",$,[e("div",ee,[e("nav",te,[e("ul",se,[e("li",{class:p(["page-item",{disabled:n.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:a[2]||(a[2]=k((...s)=>o.previousPage&&o.previousPage(...s),["prevent"]))},"Previous")],2),(r(!0),i(h,null,u(o.totalPages,s=>(r(),i("li",{class:p(["page-item",{active:n.currentPage===s}]),key:s},[e("a",{class:"page-link",href:"#",onClick:k(c=>o.goToPage(s),["prevent"])},d(s),9,oe)],2))),128)),e("li",{class:p(["page-item",{disabled:n.currentPage===o.totalPages}])},[e("a",{class:"page-link",href:"#",onClick:a[3]||(a[3]=k((...s)=>o.nextPage&&o.nextPage(...s),["prevent"]))},"Next")],2)])])])])],64)):(r(),i("div",ae,re))])])])}const de=f(V,[["render",ne],["__scopeId","data-v-f6aa9884"]]);export{de as default};
//# sourceMappingURL=Book-DI6r1NVf.js.map
