import{_ as f,c as i,a as e,e as y,t as h,i as P,F as d,b as u,n as p,g as k,r as b,o as r,s as w,C as x,d as C,w as B,x as I,y as S}from"./sweetalert2.min-C72B2ZMm.js";import"./_commonjsHelpers-DSXiPLDm.js";const V={data(){return{buku:[],category:[],seeks:"",selectedCategories:[],currentPage:1,itemsPerPage:15}},mounted(){this.filterBooks(),this.getCategory()},methods:{filterBooks(){let t=this.$loading.show();window.axios.get("/getBook",{params:{categories:this.selectedCategories,search:this.searchQuery}}).then(a=>{this.seeks=this.searchQuery,this.buku=a.data,this.$router.push({path:this.$route.path,query:{}}),t.hide()}).catch(a=>{t.hide(),console.error(a)})},getCategory(){window.axios.get("/getCategory").then(t=>{this.category=t.data}).catch(t=>{console.error(t)})},previousPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},goToPage(t){this.currentPage=t}},computed:{searchQuery(){return this.$route.query.search||""},totalBuku(){return this.buku.length},totalPages(){return Math.ceil(this.totalBuku/this.itemsPerPage)},paginatedBuku(){const t=(this.currentPage-1)*this.itemsPerPage,a=t+this.itemsPerPage,g=this.buku.slice(t,a),_=4,l=[];for(let s=0;s<g.length;s+=_)l.push(g.slice(s,s+_));return l}},watch:{searchQuery(t,a){t!==""&&(this.selectedCategories=[],this.filterBooks())}}},m=t=>(I("data-v-23265592"),t=t(),S(),t),N={class:"page-content"},F={class:"row"},K={class:"divider divider-left-center"},Q=m(()=>e("h2",null,"KOLEKSI BUKU",-1)),T={key:0},M={class:"col-12 col-xl-3 mb-3"},O={class:"accordion accordion-flush",id:"accordionFlush"},U={class:"accordion-item"},q=m(()=>e("h2",{class:"accordion-header",id:"flush-headingOne"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseCategory","aria-expanded":"false","aria-controls":"flush-collapseCategory"}," Kategori ")],-1)),z={id:"flush-collapseCategory",class:"accordion-collapse collapse overflow-auto","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlush",style:{"max-height":"330px"}},D={class:"accordion-body"},E={class:"list-group"},L=["id","value"],j=["for"],A={class:"col-12 col-xl-9"},G={class:"row row-cols-2 row-cols-md-5"},H={class:"card"},J={class:"card-content"},R={class:"product-image"},W=["src","alt"],X={class:"card-body pt-0"},Y={class:"card-title mb-0"},Z={href:"#"},$=["title"],ee={class:"row"},te={class:"col-12"},se={"aria-label":"Page navigation"},oe={class:"pagination justify-content-center"},ae=["onClick"],ie={key:1,class:"row"},re=m(()=>e("h6",null,"Buku Tidak tersedia",-1)),le=[re];function ce(t,a,g,_,l,s){const v=b("router-link");return r(),i("div",N,[e("section",F,[e("div",K,[Q,l.seeks?(r(),i("div",T,[e("p",null,[y("hasil pencarian buku dengan kata kunci "),e("b",null,'"'+h(l.seeks)+'"',1)])])):P("",!0)]),e("div",M,[e("div",O,[e("div",U,[q,e("div",z,[e("div",D,[e("ul",E,[(r(!0),i(d,null,u(l.category,o=>(r(),i("li",{class:"d-inline-block mb-1",key:o.id},[w(e("input",{type:"checkbox",id:o.id,class:"form-check-input me-2",value:o.id,"onUpdate:modelValue":a[0]||(a[0]=n=>l.selectedCategories=n),onChange:a[1]||(a[1]=(...n)=>s.filterBooks&&s.filterBooks(...n))},null,40,L),[[x,l.selectedCategories]]),e("label",{for:o.id},h(o.description),9,j)]))),128))])])])])])]),e("div",A,[s.paginatedBuku.length>0?(r(),i(d,{key:0},[e("div",G,[(r(!0),i(d,null,u(s.paginatedBuku,(o,n)=>(r(),i(d,{key:n},[(r(!0),i(d,null,u(o,c=>(r(),i("div",{key:c.id,class:"col"},[C(v,{to:{name:"detail-buku",params:{idb:c.isbn}}},{default:B(()=>[e("div",H,[e("div",J,[e("div",R,[e("img",{src:c.image,alt:c.alt,class:"img-fluid"},null,8,W)]),e("div",X,[e("p",Y,h(c.writer),1),e("a",Z,[e("h6",{class:"card-title mt-2","data-bs-toggle":"tooltip","data-bs-placement":"bottom",style:{display:"-webkit-box","line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden","text-overflow":"ellipsis"},title:c.title},h(c.title),9,$)])])])])]),_:2},1032,["to"])]))),128))],64))),128))]),e("div",ee,[e("div",te,[e("nav",se,[e("ul",oe,[e("li",{class:p(["page-item",{disabled:l.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:a[2]||(a[2]=k((...o)=>s.previousPage&&s.previousPage(...o),["prevent"]))},"Previous")],2),(r(!0),i(d,null,u(s.totalPages,o=>(r(),i("li",{class:p(["page-item",{active:l.currentPage===o}]),key:o},[e("a",{class:"page-link",href:"#",onClick:k(n=>s.goToPage(o),["prevent"])},h(o),9,ae)],2))),128)),e("li",{class:p(["page-item",{disabled:l.currentPage===s.totalPages}])},[e("a",{class:"page-link",href:"#",onClick:a[3]||(a[3]=k((...o)=>s.nextPage&&s.nextPage(...o),["prevent"]))},"Next")],2)])])])])],64)):(r(),i("div",ie,le))])])])}const he=f(V,[["render",ce],["__scopeId","data-v-23265592"]]);export{he as default};
//# sourceMappingURL=Book-DZ0mFpW3.js.map
