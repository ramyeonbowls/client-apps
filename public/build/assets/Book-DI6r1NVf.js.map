{"version":3,"file":"Book-DI6r1NVf.js","sources":["../../../resources/js/components/member/Book.vue"],"sourcesContent":["<template>\n    <div class=\"page-content\">\n        <section class=\"row\">\n            <div class=\"divider divider-left-center\">\n                <h2>KOLEKSI BUKU</h2>\n                <div v-if=\"seeks\">\n                    <p>hasil pencarian buku dengan kata kunci <b>\"{{ seeks }}\"</b></p>\n                </div>\n            </div>\n            <!-- Dropdown button to toggle filter options -->\n\t\t\t<div class=\"col-12 text-start mb-3\">\n\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary dropdown-toggle px-5 py-2\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" data-bs-offset=\"0,15\">\n\t\t\t\t\t\tKategori\n\t\t\t\t\t</button>\n\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t<li v-for=\"cat in category\" :key=\"cat.id\" class=\"dropdown-item py-3\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" :id=\"cat.id\" class=\"form-check-input me-2\" :value=\"cat.id\" v-model=\"selectedCategories\" @change=\"filterBooks\">\n\t\t\t\t\t\t\t<label :for=\"cat.id\">\n\t\t\t\t\t\t\t\t<span class=\"text-start\">{{ cat.description }}</span>\n\t\t\t\t\t\t\t\t<span class=\"text-muted text-end\">\n\t\t\t\t\t\t\t\t\t( {{ cat.total }} )\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n            <div class=\"col-12\">\n                <template v-if=\"paginatedBuku.length > 0\">\n                    <div class=\"row row-cols-2 row-cols-md-6\">\n                        <template v-for=\"(group, groupIndex) in paginatedBuku\" :key=\"groupIndex\">\n                            <div v-for=\"buku in group\" :key=\"buku.id\" class=\"col\">\n                                <router-link :to=\"{ name: 'detail-buku', params: { idb: buku.isbn } }\">\n                                    <div class=\"card\">\n                                        <div class=\"card-content\">\n                                            <div class=\"product-image\">\n                                                <img :src=\"buku.image\" :alt=\"buku.alt\" class=\"img-fluid\">\n                                            </div>\n                                            <div class=\"card-body pt-0\">\n                                                <p class=\"card-title mb-0\">{{ buku.writer }}</p>\n                                                <a href=\"#\">\n                                                    <h6 class=\"card-title mt-2\" data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" style=\"display: -webkit-box; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis;\" :title=\"buku.title\">{{ buku.title }}</h6>\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </router-link>\n                            </div>\n                        </template>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <nav aria-label=\"Page navigation\">\n                                <ul class=\"pagination justify-content-center\">\n                                    <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                                        <a class=\"page-link\" href=\"#\" @click.prevent=\"previousPage\">Previous</a>\n                                    </li>\n                                    <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\" :class=\"{ active: currentPage === page }\">\n                                        <a class=\"page-link\" href=\"#\" @click.prevent=\"goToPage(page)\">{{ page }}</a>\n                                    </li>\n                                    <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                                        <a class=\"page-link\" href=\"#\" @click.prevent=\"nextPage\">Next</a>\n                                    </li>\n                                </ul>\n                            </nav>\n                        </div>\n                    </div>\n                </template>\n                <template v-else>\n                    <div class=\"row text-center\">\n                        <h6>Buku Tidak tersedia</h6>\n                    </div>\n                </template>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return {\n            buku: [],\n            category: [],\n            seeks: '',\n            selectedCategories: [], \n            currentPage: 1,\n            itemsPerPage: 18\n        }\n    },\n\n    mounted(){\n        this.filterBooks();\n        this.getCategory();\n    },\n\n    methods: {\n        filterBooks() {\n            let loader = this.$loading.show();\n            window.axios.get('/getBook', {\n                params: {\n                    categories: this.selectedCategories,\n                    search: this.searchQuery\n                }\n            })\n            .then((response) => {\n                this.seeks = this.searchQuery;\n                this.buku = response.data;\n                \n                this.$router.push({ \n                    path: this.$route.path, \n                    query: {} \n                });\n\n                loader.hide();\n            })\n            .catch((e) => {\n                loader.hide();\n                console.error(e)\n            });\n        },\n        \n        getCategory() {\n            window.axios\n            .get('/getCategory')\n            .then((response) => {\n                this.category = response.data;\n            })\n            .catch((e) => {\n                console.error(e)\n            });\n        },\n\n        previousPage() {\n            if (this.currentPage > 1) {\n                this.currentPage--;\n            }\n        },\n\n        nextPage() {\n            if (this.currentPage < this.totalPages) {\n                this.currentPage++;\n            }\n        },\n\n        goToPage(page) {\n            this.currentPage = page;\n        }\n    },\n\n    computed:{\n        searchQuery() {\n            return this.$route.query.search || '';\n        },\n\n        totalBuku() {\n            return this.buku.length;\n        },\n\n        totalPages() {\n            return Math.ceil(this.totalBuku / this.itemsPerPage);\n        },\n\n        paginatedBuku() {\n            const start = (this.currentPage - 1) * this.itemsPerPage;\n            const end = start + this.itemsPerPage;\n            const currentItems = this.buku.slice(start, end);\n\n            const chunkSize = 4;\n            const grouped = [];\n\n            for (let i = 0; i < currentItems.length; i += chunkSize) {\n                grouped.push(currentItems.slice(i, i + chunkSize));\n            }\n\n            return grouped;\n        }\n    },\n\n    watch: {\n        searchQuery(newValue, oldValue) {\n            if (newValue !== '') {\n                this.selectedCategories = [];\n                this.filterBooks();\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .product-card {\n        width: 220px;\n        border-radius: 10px;\n        -webkit-box-shadow: 0px 0px 47px -20px rgba(0,0,0,1);\n        -moz-box-shadow: 0px 0px 47px -20px rgba(0,0,0,1);\n        box-shadow: 0px 0px 47px -20px rgba(0,0,0,1);\n        margin: 60px 0;\n        background-color: #fff;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .product-image {\n        height: 250px;\n        overflow: hidden;\n        position: relative;\n        padding: 0px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .product-image img {\n        width: 75%;\n        object-fit: cover;\n        transition: transform 0.5s;\n        border-radius: 10px;\n    }\n\n    .product-image:hover img {\n        transform: scale(1.1);\n    }\n\n    /* Media Queries untuk Mobile View */\n    @media (max-width: 1200px) {\n        .product-image {\n            height: auto;\n            padding: 10px;\n        }\n\n        .product-image img {\n            width: 70%;\n        }\n    }\n\n\t.dropdown-menu {\n        max-height: 350px; /* Limit height */\n        overflow-y: auto;  /* Enable vertical scrolling */\n    }\n\n    .dropdown-item {\n        display: flex;\n        align-items: center;\n    }\n\n    .form-check-input {\n        margin-right: 5px; /* Adjust checkbox spacing */\n    }\n</style>\n"],"names":["_sfc_main","loader","response","e","page","start","end","currentItems","chunkSize","grouped","i","newValue","oldValue","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_withScopeId","_createElementVNode","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_openBlock","_createElementBlock","$data","_hoisted_5","_createTextVNode","_toDisplayString","_createCommentVNode","_hoisted_8","_Fragment","_renderList","cat","_cache","$event","$options","args","group","groupIndex","buku","_createVNode","_component_router_link","_withCtx","_normalizeClass","_withModifiers","_hoisted_29","_hoisted_31"],"mappings":"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"}