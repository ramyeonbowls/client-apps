import{_,c as n,d as f,a as s,g as b,F as d,b as v,r as g,o as i,t as w,s as l,P as p,v as P}from"./sweetalert2.min-C72B2ZMm.js";import"./_commonjsHelpers-DSXiPLDm.js";const y={data(){return{menu:{menu_label:"",menu_desc:"",permission:{create:!1,read:!1,update:!1,delete:!1,print:!1,approve:!1}},parameters:[],user:{},form:{param:{}},errors:{}}},mounted(){this.__MENU(),this.getParameter()},methods:{__MENU(){let o=this.$loading.show();window.axios.get("/web-access-log/"+this.$route.name).then(t=>{o.hide(),this.menu.menu_label=t.data.menu_label,this.menu.menu_desc=t.data.menu_desc,this.menu.permission=t.data.permission}).catch(t=>{o.hide(),console.error(t)})},getParameter(){this.user={},window.axios.get("/setting/appparam").then(o=>{this.parameters=o.data,Object.keys(this.parameters).forEach(t=>{const a=this.parameters[t];this.form.param[a.name]=a.value})}).catch(o=>{console.error(o)})},async handleUpdateParam(){let o=this.$loading.show(),t=new FormData;Object.keys(this.form.param).forEach(a=>{t.append(a,this.form.param[a])}),await axios.post("/setting/appparam",t).then(a=>{o.hide(),this.$swal({title:"Update Pengaturan",text:a.data,icon:a.status===201?"success":"error",allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!1,showCancelButton:!1}).then(u=>{location.reload()})}).catch(a=>{o.hide(),console.error(a),this.$swal({icon:"error",title:"Kesalahan",text:"Terjadi kesalahan, silakan coba lagi nanti."})})}},computed:{cPermitted(){return this.menu.permission.create},rPermitted(){return this.menu.permission.read},uPermitted(){return this.menu.permission.update},dPermitted(){return this.menu.permission.delete},pPermitted(){return this.menu.permission.print},aPermitted(){return this.menu.permission.approve}}},k={class:"section"},U={class:"row"},x={class:"col-12"},V={class:"card"},E=s("div",{class:"card-header"},[s("h5",{class:"card-title"},"Pengaturan Aplikasi")],-1),M={class:"card-body"},B={class:"row"},j={class:"col-md-6 mb-4"},C={class:"form-group"},N={for:"name",class:"form-label"},S=["name","id","onUpdate:modelValue"],D=s("option",{value:"1"},"Ya",-1),F=s("option",{value:"0"},"Tidak",-1),O=[D,F],T=["name","id","onUpdate:modelValue"],A=s("option",{value:"1"},"Manual",-1),K=s("option",{value:"0"},"Auto",-1),L=[A,K],Y=["name","id","placeholder","onUpdate:modelValue"],q=s("div",{class:"col-md-12 mb-4"},[s("div",{class:"form-group my-2 d-flex justify-content-end"},[s("button",{type:"submit",class:"btn btn-primary"},"Simpan Perubahan")])],-1);function z(o,t,a,u,r,c){const h=g("action-bar");return i(),n(d,null,[f(h,{data:r.menu,"menu-label":r.menu.menu_label},null,8,["data","menu-label"]),s("section",k,[s("div",U,[s("div",x,[s("div",V,[E,s("div",M,[s("form",{class:"form",onSubmit:t[0]||(t[0]=b((...e)=>c.handleUpdateParam&&c.handleUpdateParam(...e),["prevent"]))},[s("div",B,[(i(!0),n(d,null,v(r.parameters,(e,G)=>(i(),n("div",j,[s("div",C,[s("label",N,w(e.description),1),e.name=="reg_member"?l((i(),n("select",{key:0,class:"form-control col-3",name:e.name,id:e.name,"onUpdate:modelValue":m=>r.form.param[e.name]=m},O,8,S)),[[p,r.form.param[e.name]]]):e.name=="app_reg_member"?l((i(),n("select",{key:1,class:"form-control col-3",name:e.name,id:e.name,"onUpdate:modelValue":m=>r.form.param[e.name]=m},L,8,T)),[[p,r.form.param[e.name]]]):l((i(),n("input",{key:2,type:"number",name:e.name,id:e.name,class:"form-control",placeholder:e.description,"onUpdate:modelValue":m=>r.form.param[e.name]=m},null,8,Y)),[[P,r.form.param[e.name]]])])]))),256))]),q],32)])])])])])],64)}const J=_(y,[["render",z]]);export{J as default};
//# sourceMappingURL=Parameter-BCwmk7hE.js.map
