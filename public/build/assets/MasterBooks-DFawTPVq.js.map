{"version":3,"file":"MasterBooks-DFawTPVq.js","sources":["../../../resources/js/components/master/MasterBooks.vue"],"sourcesContent":["<template>\n    <action-bar :data=\"menu\" :menu-label=\"menu.menu_label\"></action-bar>\n\n    <!-- filter modal -->\n    <div class=\"modal fade text-left modal-borderless\" id=\"border-less\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel1\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">Filter</h5>\n                    <button type=\"button\" class=\"close rounded-pill\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                        <i data-feather=\"x\"></i>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 col-12\">\n                            <div class=\"row\">\n                                <div class=\"col-md-12 mb-12\">\n                                    <div class=\"form-group\">\n                                        <label for=\"basicSelect1\" class=\"form-label\">Provinsi</label>\n                                        <select class=\"form-select\" id=\"basicSelect1\">\n                                            <option>--</option>\n                                            <option>Jawa Barat</option>\n                                            <option>Jawa TengaH</option>\n                                            <option>DKI Jakarta</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-12 mb-12\">\n                                    <div class=\"form-group\">\n                                        <label for=\"basicSelect2\" class=\"form-label\">Kabupaten/Kota</label>\n                                        <select class=\"form-select\" id=\"basicSelect2\">\n                                            <option>--</option>\n                                            <option>Bandung</option>\n                                            <option>Jakarta Pusat</option>\n                                            <option>Semarang</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-12 mb-12\">\n                                    <div class=\"form-group\">\n                                        <label for=\"basicSelect3\" class=\"form-label\">White Label</label>\n                                        <select class=\"form-select\" id=\"basicSelect3\">\n                                            <option>--</option>\n                                            <option>Gramedia</option>\n                                            <option>Mizan</option>\n                                            <option>Erlangga</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-12 mb-12\">\n                                    <div class=\"form-group\">\n                                        <label for=\"sdate\" class=\"form-label\">Tanggal</label>\n                                        <Flatpickr v-model=\"filter.date\" class=\"form-control flatpickr-range\" :config=\"configdate\" placeholder=\"Select date..\"></Flatpickr>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-primary ms-1\" data-bs-dismiss=\"modal\">\n                        <i class=\"bx bx-check d-block d-sm-none\"></i>\n                        <span class=\"d-none d-sm-block\">Proses Data</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- filter modal -->\n\n    <section class=\"section\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"table-responsive\">\n                    <table class=\"table table-striped\" id=\"data_rst\">\n                        <thead>\n                            <tr>\n                                <th>Cover</th>\n                                <th>Judul</th>\n                                <th>ISBN</th>\n                                <th>EISBN</th>\n                                <th>Thn. Terbit</th>\n                                <th>Penulis</th>\n                                <th>Penerbit</th>\n                                <th>Kategori</th>\n                                <th>Copy</th>\n                            </tr>\n                        </thead>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <!-- Modal for Image Preview -->\n    <div class=\"modal fade text-left\" id=\"imageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"imageModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\" id=\"imageModalLabel\">Preview</h4>\n                    <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                        <i data-feather=\"x\"></i>\n                    </button>\n                </div>\n                <div class=\"modal-body text-center\">\n                    <img id=\"modalImage\" src=\"\" class=\"img-fluid\" alt=\"Preview\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-light-secondary\" data-bs-dismiss=\"modal\">\n                        <span class=\"bx bx-x d-block d-sm-none\">X</span>\n                        <span class=\"d-none d-sm-block\">Close</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Modal for Image Preview -->\n</template>\n\n<script>\nimport { Form as VeeForm, Field, ErrorMessage } from 'vee-validate'\n\nlet table\nexport default {\n    components: {\n        VeeForm,\n        Field,\n        ErrorMessage,\n    },\n\n    data() {\n        return {\n            menu: {\n                menu_label: '',\n                menu_desc: '',\n                permission: {\n                    create: false,\n                    read: false,\n                    update: false,\n                    delete: false,\n                    print: false,\n                    approve: false,\n                },\n            },\n\n            configdate: {\n                dateFormat: 'F j, Y',\n                mode: 'range',\n            },\n\n            filter: {\n                date: '',\n            },\n        }\n    },\n\n    mounted() {\n        this.__MENU()\n        this.$root.web_access_log()\n\n        table = $('#data_rst').DataTable({\n            paging: true,\n            pagingType: 'full_numbers',\n            lengthMenu: [[10, 25, 50, 100, 500], [10, 25, 50, 100, 500]],\n            pageLength: 25,\n            processing: true,\n            serverSide: true,\n            deferRender: true,\n            stateSave: true,\n            select: true,\n            order: [[0, \"asc\"]],\n            ajax: \"/master/book-mst\",\n            columns: [\n                {\n                    data: \"cover\",\n                    render: function(data, type, row) {\n                        return '<img src=\"/storage/covers/' + data + '\" class=\"cover\" data-large=\"/storage/covers/' + data + '\" alt=\"Image\" style=\"width: 50px; cursor: pointer;\" />';\n                    }\n                },\n                { data: \"title\" },\n                { data: \"isbn\" },\n                { data: \"eisbn\" },\n                { data: \"year\" },\n                { data: \"writer\" },\n                { data: \"publisher\" },\n                { data: \"category\" },\n                { data: \"qty\" }\n            ],\n            language: {\n                lengthMenu: \"_MENU_\",\n                search: \"_INPUT_\",\n                searchPlaceholder: \"Pencarian..\",\n                info: '<span class=\"fs-sm\">Menampilkan _START_ sampai _END_ dari _TOTAL_ entri</span>',\n                infoEmpty: '<span class=\"fs-sm\">Menampilkan 0 sampai 0 dari 0 entri</span>',\n                infoFiltered: '<span class=\"fs-sm\">(disaring dari _MAX_ total entri)</span>',\n                zeroRecords: '<span class=\"fs-sm\">Tidak Ada Data</span>',\n                paginate: {\n                    first: '<i class=\"bi bi-chevron-double-left\"></i>',\n                    previous: '<i class=\"bi bi-chevron-left\"></i>',\n                    next: '<i class=\"bi bi-chevron-right\"></i>',\n                    last: '<i class=\"bi bi-chevron-double-right\"></i>'\n                }\n            }\n        });\n\n        window.$('#data_rst tbody').on('click', '.cover', function () {\n            // Get the large image URL from data attribute\n            var largeImageUrl = $(this).data('large');\n            \n            // Set the large image URL in the modal\n            $('#modalImage').attr('src', largeImageUrl);\n            \n            // Show the modal\n            new bootstrap.Modal(document.getElementById('imageModal')).show()\n        });\n    },\n\n    methods: {\n        __MENU() {\n            let loader = this.$loading.show()\n            window.axios\n                .get('/web-access-log/' + this.$route.name)\n                .then((response) => {\n                    loader.hide()\n\n                    this.menu.menu_label = response.data.menu_label\n                    this.menu.menu_desc = response.data.menu_desc\n                    this.menu.permission = response.data.permission\n                })\n                .catch((e) => {\n                    loader.hide()\n\n                    console.error(e)\n                })\n        },\n    },\n\n    computed: {\n        cPermitted() {\n            return this.menu.permission.create\n        },\n\n        rPermitted() {\n            return this.menu.permission.read\n        },\n\n        uPermitted() {\n            return this.menu.permission.update\n        },\n\n        dPermitted() {\n            return this.menu.permission.delete\n        },\n\n        pPermitted() {\n            return this.menu.permission.print\n        },\n\n        aPermitted() {\n            return this.menu.permission.approve\n        },\n    },\n\n    beforeRouteLeave (to, from, next) {\n        if (table) {\n            table.destroy();\n            table = null;\n        }\n\n        next();\n    }\n}\n</script>\n"],"names":["table","_sfc_main","VeeForm","Field","ErrorMessage","data","type","row","largeImageUrl","loader","response","e","to","from","next","_hoisted_3","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createStaticVNode","_hoisted_12","_hoisted_13","_hoisted_16","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_action_bar","$data","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_14","_component_Flatpickr","_cache","$event","_hoisted_15","_hoisted_17"],"mappings":"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"}