{"version":3,"file":"formLogin-CD0wYEv4.js","sources":["../../../resources/js/components/member/formLogin.vue"],"sourcesContent":["<template>\n    <div class=\"page-heading\">\n            <div class=\"col-md-5 col-12\">\n            <div id=\"auth-left\">\n                <h1 class=\"auth-title\">Masuk</h1>\n                <p class=\"auth-subtitle mb-4\">Masuk dengan email yang di daftarkan</p>\n\n                <form @submit.prevent=\"handleLogin\">\n                    <div class=\"form-group position-relative has-icon-left mb-4\">\n                        <input\n                            type=\"text\"\n                            class=\"form-control form-control-md\"\n                            :class=\"{'is-invalid': errors.email}\"\n                            placeholder=\"Email\"\n                            v-model=\"email\"\n                        />\n                        <div class=\"form-control-icon\">\n                            <i class=\"bi bi-envelope\"></i>\n                        </div>\n                        <div v-if=\"errors.email\" class=\"invalid-feedback\">{{ errors.email[0] }}</div>\n                    </div>\n                    <div class=\"form-group position-relative has-icon-left mb-4\">\n                        <input\n                            type=\"password\"\n                            class=\"form-control form-control-md\"\n                            :class=\"{'is-invalid': errors.password}\"\n                            placeholder=\"Kata Sandi\"\n                            v-model=\"password\"\n                        />\n                        <div class=\"form-control-icon\">\n                            <i class=\"bi bi-shield-lock\"></i>\n                        </div>\n                        <div v-if=\"errors.password\" class=\"invalid-feedback\">{{ errors.password[0] }}</div>\n                    </div>\n                    \n                    <button type=\"submit\" class=\"btn btn-primary btn-block btn-md shadow-md mt-3\">Masuk</button>\n                </form>\n                <div class=\"col-12 mt-3\">\n                    <div class=\"text-center text-md fs-10\">\n                        <p class=\"text-gray-600\" v-if=\"register\">\n                            Belum punya akun?\n                            <router-link :to=\"{ name: 'mregister' }\" class=\"font-bold\">Daftar</router-link>\n                        </p>\n\t\t\t\t\t\t<p class=\"text-gray-600\">\n\t\t\t\t\t\t\t<a class=\"font-bold\" href=\"/password/reset\">Lupa Kata Sandi?</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        register: {\n            type: Boolean,\n            required: true\n        }\n    },\n    data() {\n        return {\n            email: '',\n            password: '',\n            errors: {},\n            csrfToken: '',\n        };\n    },\n    mounted() {\n        this.csrfToken = document.head.querySelector('meta[name=\"csrf-token\"]').content;\n    },\n\n    methods: {\n        async handleLogin() {\n            let loader = this.$loading.show()\n            try {\n                const response = await axios.post('/login', {\n                    _token: this.csrfToken,\n                    email: this.email,\n                    password: this.password,\n                    from: 'member'\n                })\n                loader.hide()\n                window.location.href = '/'\n            } catch (error) {\n                loader.hide();\n                if (error.response && error.response.status === 422) {\n                    this.errors = error.response.data.errors || {}\n                    this.password = ''\n                } else if (error.response && error.response.status === 403) {\n                    this.$swal({\n                        title: \"Gagal Masuk\",\n                        text: error.response.data.message,\n                        icon: 'error',\n                        allowOutsideClick: false,\n                        allowEscapeKey: false,\n                        showCloseButton: false,\n                        showCancelButton: false\n                    })\n\n                    this.password = ''\n                } else {\n                    this.errors = 'Terjadi error, silahkan refresh halaman'\n                    console.error('An unknown error occurred:', error)\n                }\n            }\n        }\n    }\n};\n</script>"],"names":["_sfc_main","loader","response","error","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_9","_hoisted_13","_hoisted_14","_openBlock","_createElementBlock","_cache","_withModifiers","$options","args","_normalizeClass","$data","$event","_hoisted_7","_hoisted_8","_toDisplayString","_createCommentVNode","_hoisted_10","_hoisted_11","_hoisted_12","$props","_hoisted_15","_createTextVNode","_createVNode","_component_router_link","_withCtx","_hoisted_16"],"mappings":"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"}