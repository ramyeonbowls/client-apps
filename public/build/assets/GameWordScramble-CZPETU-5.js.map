{"version":3,"file":"GameWordScramble-CZPETU-5.js","sources":["../../../resources/js/components/member/GameWordScramble.vue"],"sourcesContent":["<template>\n\t<div id=\"game-content\" class=\"card w-100 full-screen-card\">\n\t  <!-- Modal -->\n\t  <div id=\"modal\">\n\t\t<div id=\"modalContent\">\n\t\t  <h4 :class=\"(currentScore >= 8 ? 'text-success' : (currentScore <= 7 && currentScore >= 5 ? 'text-warning' : 'text-danger'))\">Skor Anda : {{ currentScore }}</h4>\n\t\t  <h2>Apakah Anda ingin bermain lagi?</h2>\n\t\t  <button id=\"playAgainBtn\">Ya</button>\n\t\t  <button id=\"exitBtn\">Tidak</button>\n\t\t</div>\n\t  </div>\n  \n\t  <!-- Game UI -->\n\t  <div v-if=\"!gameOver\">\n\t\t<h2>Susun huruf untuk membentuk kata dalam Bahasa Indonesia!</h2>\n\t\t<p class=\"text-start\">\n\t\t\t<h4 class=\"text-muted\">Skor: {{ currentScore }}</h4>\n\t\t</p>\n\t\t<div id=\"scrambled-word\">\n\t\t  <h2>{{ scrambledWord }}</h2>\n\t\t</div>\n\t\t<div v-if=\"feedback\" class=\"feedback\">\n\t\t\t<h4 :class=\"isCorrectAnswer ? 'text-success' : 'text-danger'\">{{ feedback }}</h4>\n\t\t</div>\n\t\t<input \n\t\t  type=\"text\" \n\t\t  v-model=\"userGuess\" \n\t\t  placeholder=\"Masukkan jawaban\" \n\t\t  @keyup.enter=\"checkAnswer\"\n\t\t/>\n\t\t<button @click=\"checkAnswer\">Periksa Jawaban</button>\n\n\t\t<div v-if=\"feedback\" class=\"feedback\">\n\t\t\t<img \n\t\t\t\tv-if=\"isCorrectAnswer\" \n\t\t\t\tsrc=\"game/scramble/correct.webp\" \n\t\t\t\talt=\"Correct\" \n\t\t\t\tclass=\"feedback-image\"\n\t\t\t/>\n\t\t\t<img\n\t\t\t\tv-if=\"isIncorrectAnswer\" \n\t\t\t\tsrc=\"game/scramble/incorrect.webp\" \n\t\t\t\talt=\"Incorrect\" \n\t\t\t\tclass=\"feedback-image\"\n\t\t\t/>\n\t\t</div>\n\t  </div>\n\t</div>\n  </template>\n  \n  \n<script>\n  \timport { ref, onMounted, onBeforeUnmount } from 'vue';\n\timport Swal from 'sweetalert2';\n\nexport default {\n  setup() {\n    const words = ref([]);\n    const correctAnswer = ref('');\n    const scrambledWord = ref('');\n    const score = ref(0);\n    const userGuess = ref('');\n    const feedback = ref('');\n    const currentScore = ref('0');\n    const questionCount = ref(0); // To track number of questions answered\n    const gameOver = ref(false);\n    const isCorrectAnswer = ref(false);\n    const isIncorrectAnswer = ref(false);\n\n\tconst fetchData = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get('/getParam');\n\t\t\treturn response.data.additional_features;\n\t\t} catch (error) {\n\t\t\tconsole.error('Error fetching data:', error);\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst fetchBaca = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get('/getInfoBaca');\n\t\t\treturn response.data;\n\t\t} catch (error) {\n\t\t\tconsole.error('Error fetching data:', error);\n\t\t\treturn null;\n\t\t}\n\t};\n\n\t// Fetch words from API\n\tconst fetchWords = async () => {\n        try {\n          const response = await axios.get('/getWords');  // Your API endpoint to get words\n          words.value = response.data;  // Assume response contains { words: [...] }\n          generateWord();  // Generate a word as soon as the words are fetched\n        } catch (error) {\n          console.error('Error fetching words:', error);\n        }\n    };\n\n    // Function to scramble the word\n    const scrambleWord = (word) => {\n\t\tconst scrambled = word.split('').sort(() => Math.random() - 0.5).join('');\n\t\treturn scrambled;\n    };\n\n    // Function to generate a random word and scramble it\n    const generateWord = () => {\n\t\tconst randomWord = words.value[Math.floor(Math.random() * words.value.length)];\n\t\tcorrectAnswer.value = randomWord;\n\t\tscrambledWord.value = scrambleWord(randomWord);\n\t\tisCorrectAnswer.value = false;\n\t\tisIncorrectAnswer.value = false;\n    };\n\n    // Function to check the player's answer\n    const checkAnswer = () => {\n\t\tif(userGuess.value != ''){\n\t\t\tif (userGuess.value.toLowerCase() === correctAnswer.value.toLowerCase()) {\n\t\t\t\tconst correctSound = new Audio('game/scramble/yay.mp3'); // Path to your sound file\n\t\t\t\tcorrectSound.play(); // Play the sound immediately\n\n\t\t\t\t// Stop the sound after 5 seconds\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcorrectSound.pause(); // Pause the sound after 5 seconds\n\t\t\t\t\tcorrectSound.currentTime = 0; // Reset to the start of the sound\n\t\t\t\t}, 5000);\n\n\t\t\t\tfeedback.value = 'Benar! Selamat!';\n\t\t\t\tscore.value++;\n\t\t\t\tisCorrectAnswer.value = true;\n\t\t\t\tisIncorrectAnswer.value = false;\n\t\t\t} else {\n\t\t\t\tconst incorrectSound = new Audio('game/scramble/boo.mp3'); // Path to your sound file\n\t\t\t\tincorrectSound.play(); // Play the sound immediately\n\n\t\t\t\t// Stop the sound after 5 seconds\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tincorrectSound.pause(); // Pause the sound after 5 seconds\n\t\t\t\t\tincorrectSound.currentTime = 0; // Reset to the start of the sound\n\t\t\t\t}, 5000);\n\n\t\t\t\tfeedback.value = 'Salah, coba lagi!';\n\t\t\t\tisCorrectAnswer.value = false;\n\t\t\t\tisIncorrectAnswer.value = true;\n\t\t\t}\n\t  \n\t\t\t// Update the score display\n\t\t\tcurrentScore.value = `${score.value} / 10`;\n\t  \n\t\t\tquestionCount.value++;\n\t  \n\t\t\tif (questionCount.value >= 10) {\n\t\t\t  \tshowModal();\n\t\t\t} else {\n\t\t\t  \tsetTimeout(() => generateWord(), 3000); // Generate a new word after a short delay\n\t\t\t}\n\t  \n\t\t\t// Hide feedback after 3 seconds\n\t\t\tsetTimeout(() => {\n\t\t\t\tfeedback.value = ''; \n\t\t\t\tisCorrectAnswer.value = false;\n\t\t\t\tisIncorrectAnswer.value = false;\n\t\t\t}, 3000); // 3 seconds delay\n\t\t\tuserGuess.value = ''; // Clear the input\n\t\t}\n    };\n\n    // Function to reset the game and continue\n    const resetGame = () => {\n\t\tscore.value = 0;\n\t\tquestionCount.value = 0;\n\t\tcurrentScore.value = '0';\n\t\tfeedback.value = '';\n\t\tgenerateWord();\n    };\n\n    // Show modal after 10 correct answers\n    const showModal = () => {\n\t\tdocument.getElementById('modal').style.display = 'flex';\n\t\tdocument.getElementById('playAgainBtn').onclick = () => {\n\t\t\tdocument.getElementById('modal').style.display = 'none';\n\t\t\tresetGame();\n\t\t};\n\t\tdocument.getElementById('exitBtn').onclick = () => {\n\t\t\twindow.location.href = '/'; // Redirect to home page\n\t\t};\n    };\n\n    // Start the game\n\tonMounted(async () => {\n\t\tconst parameter = await fetchData();\n\n\t\tif (parameter==1 || parameter==3) {\n\t\t\tconst baca = await fetchBaca();\n\n\t\t\t\tif(baca.code==1){\n\t\t\t\t\tfetchWords();\n\t\t\t\t}else{\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\ttext: baca.message,\n\t\t\t\t\t\tallowOutsideClick: false,\n\t\t\t\t\t\tallowEscapeKey: false,\n\t\t\t\t\t\tshowCloseButton: false,\n\t\t\t\t\t\tshowCancelButton: false\n\t\t\t\t\t}).then((result) => {\n\t\t\t\t\t\twindow.location.href = '/';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t}else{\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Access Denied!\",\n\t\t\t\ticon: 'error',\n\t\t\t\tallowOutsideClick: false,\n\t\t\t\tallowEscapeKey: false,\n\t\t\t\tshowCloseButton: false,\n\t\t\t\tshowCancelButton: false\n\t\t\t}).then((result) => {\n\t\t\t\twindow.location.href = '/';\n\t\t\t});\n\t\t}\n    });\n\n    onBeforeUnmount(() => {\n      // Cleanup\n    });\n\n    return {\n\t\tscrambledWord,\n\t\tuserGuess,\n\t\tcheckAnswer,\n\t\tfeedback,\n\t\tcurrentScore,\n\t\tgameOver,\n\t\tshowModal,\n\t\tisCorrectAnswer,\n\t\tisIncorrectAnswer,\n    };\n  },\n};\n\n  </script>\n  \n  <style scoped>\n  .full-screen-card {\n\theight: 75vh; /* Adjust the 100px as needed for additional height */\n\toverflow-y: auto;\n\t}\n  .game-container {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-height: 100vh;\n\t}\n\n\t.card {\n\twidth: 350px;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\tbackground-color: #fff;\n\ttext-align: center;\n\t}\n\n\t.card-header {\n\tmargin-bottom: 20px;\n\t}\n\n\t.card-body {\n\tmargin-bottom: 20px;\n\t}\n\n\t.card-footer {\n\tmargin-top: 20px;\n\t}\n\n\tinput {\n\tfont-size: 18px;\n\tpadding: 10px;\n\tmargin-bottom: 10px;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t}\n\n\tbutton {\n\tpadding: 10px 20px;\n\tfont-size: 16px;\n\tcursor: pointer;\n\tmargin: 5px;\n\tbackground-color: #007bff;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 5px;\n\t}\n\n\tbutton:hover {\n\tbackground-color: #0056b3;\n\t}\n\n\t.feedback {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\t}\n\n\t.feedback-image {\n\twidth: 200px;\n\theight: 200px;\n\tobject-fit: contain;\n\tmargin-bottom: 10px;\n\t}\n\n\t#modal {\n\tdisplay: none;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\t}\n\n\t#modalContent {\n\tbackground: white;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\ttext-align: center;\n\t}\n\n\t#modalContent button {\n\tmargin: 10px;\n\t}\n  </style>\n  "],"names":["_sfc_main","words","ref","correctAnswer","scrambledWord","score","userGuess","feedback","currentScore","questionCount","gameOver","isCorrectAnswer","isIncorrectAnswer","fetchData","error","fetchBaca","fetchWords","response","generateWord","scrambleWord","word","randomWord","checkAnswer","correctSound","incorrectSound","showModal","resetGame","onMounted","parameter","baca","Swal","result","onBeforeUnmount","_hoisted_2","_hoisted_3","_hoisted_4","_withScopeId","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_openBlock","_createElementBlock","_hoisted_1","_normalizeClass","$setup","_createCommentVNode","_hoisted_7","_hoisted_12","_cache","$event","_withKeys","args","_hoisted_13","_hoisted_14","_hoisted_15"],"mappings":"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"}