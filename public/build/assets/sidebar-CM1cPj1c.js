const d=n=>n.innerWidth>1200,u=(n,e=!1)=>{const i=n.children;let s=0;for(let t=0;t<n.childElementCount;t++){const c=i[t];if(s+=c.querySelector(".submenu-link").clientHeight,e&&c.classList.contains("has-sub")){const o=c.querySelector(".submenu");if(o.classList.contains("submenu-open")){const r=~~[...o.querySelectorAll(".submenu-link")].reduce((b,m)=>b+m.clientHeight,0);s+=r}}}return n.style.setProperty("--submenu-height",s+"px"),s};class h{constructor(e,i={}){this.sidebarEL=e instanceof HTMLElement?e:document.querySelector(e),this.options=i,this.init()}init(){document.querySelectorAll(".burger-btn").forEach(t=>t.addEventListener("click",this.toggle.bind(this))),document.querySelectorAll(".sidebar-hide").forEach(t=>t.addEventListener("click",this.toggle.bind(this))),window.addEventListener("resize",this.onResize.bind(this));const e=t=>{t.classList.contains("submenu-open")?(t.classList.remove("submenu-open"),t.classList.add("submenu-closed")):(t.classList.remove("submenu-closed"),t.classList.add("submenu-open"))};let i=document.querySelectorAll(".sidebar-item.has-sub");for(var s=0;s<i.length;s++){let t=i[s];i[s].querySelector(".sidebar-link").addEventListener("click",o=>{o.preventDefault();let r=t.querySelector(".submenu");e(r)}),t.querySelectorAll(".submenu-item.has-sub").forEach(o=>{o.addEventListener("click",()=>{const r=o.querySelector(".submenu");e(r),u(o.parentElement,!0)})})}if(typeof PerfectScrollbar=="function"){const t=document.querySelector(".sidebar-wrapper");new PerfectScrollbar(t,{wheelPropagation:!0})}setTimeout(()=>{const t=document.querySelector(".sidebar-item.active");t&&this.forceElementVisibility(t)},300),this.options.recalculateHeight&&L(a)}onResize(){d(window)?(this.sidebarEL.classList.add("active"),this.sidebarEL.classList.remove("inactive")):this.sidebarEL.classList.remove("active"),this.deleteBackdrop(),this.toggleOverflowBody(!0)}toggle(){this.sidebarEL.classList.contains("active")?this.hide():this.show()}show(){this.sidebarEL.classList.add("active"),this.sidebarEL.classList.remove("inactive"),this.createBackdrop(),this.toggleOverflowBody()}hide(){this.sidebarEL.classList.remove("active"),this.sidebarEL.classList.add("inactive"),this.deleteBackdrop(),this.toggleOverflowBody()}createBackdrop(){if(d(window))return;this.deleteBackdrop();const e=document.createElement("div");e.classList.add("sidebar-backdrop"),e.addEventListener("click",this.hide.bind(this)),document.body.appendChild(e)}deleteBackdrop(){const e=document.querySelector(".sidebar-backdrop");e&&e.remove()}toggleOverflowBody(e){if(d(window))return;const i=this.sidebarEL.classList.contains("active"),s=document.querySelector("body");typeof e>"u"?s.style.overflowY=i?"hidden":"auto":s.style.overflowY=e?"auto":"hidden"}isElementInViewport(e){var i=e.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}forceElementVisibility(e){this.isElementInViewport(e)||e.scrollIntoView(!1)}}let a=document.getElementById("sidebar");const l=n=>{if(!a)return;d(window)&&(n.classList.add("active"),n.classList.add("sidebar-desktop"));let e=document.querySelectorAll(".sidebar-item.has-sub .submenu");for(var i=0;i<e.length;i++){let s=e[i];const t=s.parentElement;s.clientHeight,t.classList.contains("active")?s.classList.add("submenu-open"):s.classList.add("submenu-closed"),setTimeout(()=>{u(s,!0)},50)}},L=n=>{if(!n)return;let e=document.querySelectorAll(".sidebar-item.has-sub .submenu");for(var i=0;i<e.length;i++){let s=e[i];const t=s.parentElement;s.clientHeight,t.classList.contains("active")?s.classList.add("submenu-open"):s.classList.add("submenu-closed"),setTimeout(()=>{u(s,!0)},50)}};document.readyState!=="loading"?l(a):window.addEventListener("DOMContentLoaded",()=>l(a));window.Sidebar=h;window.onFirstLoad=l;
//# sourceMappingURL=sidebar-CM1cPj1c.js.map
