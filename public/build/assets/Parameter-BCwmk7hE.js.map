{"version":3,"file":"Parameter-BCwmk7hE.js","sources":["../../../resources/js/components/setting/Parameter.vue"],"sourcesContent":["<template>\n    <action-bar :data=\"menu\" :menu-label=\"menu.menu_label\"></action-bar>\n\n    <section class=\"section\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h5 class=\"card-title\">Pengaturan Aplikasi</h5>\n                    </div>\n                    <div class=\"card-body\">\n                        <form class=\"form\" @submit.prevent=\"handleUpdateParam\">\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-4\" v-for=\"(data, key) in parameters\">\n                                    <div class=\"form-group\">\n                                        <label for=\"name\" class=\"form-label\">{{ data.description }}</label>\n                                        <template v-if=\"data.name=='reg_member'\">\n                                            <select class=\"form-control col-3\" :name=\"data.name\" :id=\"data.name\" v-model=\"form.param[data.name]\">\n                                                <option value=\"1\">Ya</option>\n                                                <option value=\"0\">Tidak</option>\n                                            </select>\n                                        </template>\n                                        <template v-else-if=\"data.name=='app_reg_member'\">\n                                            <select class=\"form-control col-3\" :name=\"data.name\" :id=\"data.name\" v-model=\"form.param[data.name]\">\n                                                <option value=\"1\">Manual</option>\n                                                <option value=\"0\">Auto</option>\n                                            </select>\n                                        </template>\n                                        <template v-else>\n                                            <input type=\"number\" :name=\"data.name\" :id=\"data.name\" class=\"form-control\" :placeholder=\"data.description\" v-model=\"form.param[data.name]\"/>\n                                        </template>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-md-12 mb-4\">\n                                <div class=\"form-group my-2 d-flex justify-content-end\">\n                                    <button type=\"submit\" class=\"btn btn-primary\">Simpan Perubahan</button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\n\nexport default {\n\n    data() {\n        return {\n            menu: {\n                menu_label: '',\n                menu_desc: '',\n                permission: {\n                    create: false,\n                    read: false,\n                    update: false,\n                    delete: false,\n                    print: false,\n                    approve: false,\n                },\n            },\n\n            parameters: [],\n            user: {},\n            form: {\n                param: {},\n            },\n            errors: {}\n        }\n    },\n\n    mounted() {\n        this.__MENU()\n        this.getParameter()\n    },\n\n    methods: {\n        __MENU() {\n            let loader = this.$loading.show()\n            window.axios\n                .get('/web-access-log/' + this.$route.name)\n                .then((response) => {\n                    loader.hide()\n\n                    this.menu.menu_label = response.data.menu_label\n                    this.menu.menu_desc = response.data.menu_desc\n                    this.menu.permission = response.data.permission\n                })\n                .catch((e) => {\n                    loader.hide()\n\n                    console.error(e)\n                })\n        },\n\n        getParameter() {\n            this.user = {}\n\n            window.axios.get('/setting/appparam')\n            .then((response) => {\n                this.parameters = response.data\n\n                Object.keys(this.parameters).forEach((key) => {\n                    const val = this.parameters[key];\n                    this.form.param[val.name] = val.value;\n                });\n            })\n            .catch((e) => {\n                console.error(e)\n            })\n        },\n\n        async handleUpdateParam() {\n            let loader = this.$loading.show()\n\n            let form_data = new FormData()\n            Object.keys(this.form.param).forEach(value => {\n                form_data.append(value, this.form.param[value])\n            })\n            \n            await axios.post('/setting/appparam', form_data)\n            .then((response) => {\n                loader.hide();\n                this.$swal({\n                    title: \"Update Pengaturan\",\n                    text: response.data,\n                    icon: response.status === 201 ? 'success' : 'error',\n                    allowOutsideClick: false,\n                    allowEscapeKey: false,\n                    showCloseButton: false,\n                    showCancelButton: false\n                }).then((result) => {\n                    location.reload(); \n                });\n            })\n            .catch(error => {\n                loader.hide();\n                console.error(error)\n\n                this.$swal({\n                    icon: 'error',\n                    title: 'Kesalahan',\n                    text: 'Terjadi kesalahan, silakan coba lagi nanti.',\n                })\n            });\n        },\n    },\n\n    computed: {\n        cPermitted() {\n            return this.menu.permission.create\n        },\n\n        rPermitted() {\n            return this.menu.permission.read\n        },\n\n        uPermitted() {\n            return this.menu.permission.update\n        },\n\n        dPermitted() {\n            return this.menu.permission.delete\n        },\n\n        pPermitted() {\n            return this.menu.permission.print\n        },\n\n        aPermitted() {\n            return this.menu.permission.approve\n        },\n    },\n}\n</script>"],"names":["_sfc_main","loader","response","e","key","val","form_data","value","result","error","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_action_bar","$data","_hoisted_5","_cache","_withModifiers","$options","args","_renderList","data","_hoisted_10","_toDisplayString","$event","_hoisted_14","_vModelSelect","_hoisted_18","_vModelText","_hoisted_20"],"mappings":"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"}