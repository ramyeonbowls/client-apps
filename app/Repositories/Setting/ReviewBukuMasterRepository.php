<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:21             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Repositories\Setting; use App\Models\IconMenu\IconMenu; use Illuminate\Support\Facades\DB; use Illuminate\Support\Collection; class ReviewBukuMasterRepository { public function get($filter, $client_id) : Collection { return DB::table("\x74\x66\151\x74\x75\162\x20\141\x73\40\141")->select("\x61\x2e\x69\144", "\x61\56\x74\151\x74\154\x65", "\x61\x2e\144\145\x73\143\x72\x69\160\164\x69\x6f\156", "\x61\x2e\141\165\x74\150\x6f\162", "\141\x2e\146\151\x6c\x65", "\141\56\143\141\x74\x65\x67\x6f\x72\x79", "\x61\x2e\x66\x6c\141\147\137\141\153\x74\x69\x66", "\x61\x2e\146\x6c\x61\147\137\x70\x6c\x61\164\x66\x6f\x72\x6d", "\x61\x2e\x63\x6c\151\x65\156\x74\x5f\151\x64", "\141\56\143\x72\x65\x61\164\x65\x64\137\141\164", "\x61\56\x63\x72\x65\x61\164\145\144\x5f\142\x79", "\141\x2e\x75\x70\144\x61\164\145\144\137\141\x74", "\141\56\x75\160\x64\141\164\145\137\142\x79")->where("\141\x2e\143\x6c\151\145\x6e\164\x5f\x69\x64", "\75", $client_id)->where("\141\x2e\143\x61\x74\145\x67\157\x72\171", "\75", "\122\x42")->sharedLock()->get(); } public function store(object $data, $client_id) : bool { return DB::transaction(function () use($data, $client_id) { return DB::table("\x74\146\x69\x74\x75\162")->insert(["\x69\x64" => $data->id, "\164\151\164\x6c\x65" => $data->title, "\x64\x65\163\143\162\x69\x70\164\x69\x6f\156" => $data->description, "\x61\x75\164\x68\157\x72" => $data->author, "\x66\151\154\145" => $data->file, "\x63\141\164\x65\147\x6f\x72\x79" => "\122\x42", "\146\154\141\147\x5f\x61\153\x74\x69\x66" => $data->flag_aktif, "\146\x6c\x61\147\137\x70\x6c\x61\x74\x66\x6f\x72\155" => "\116", "\143\154\x69\x65\156\164\137\x69\144" => $client_id, "\143\162\145\141\x74\145\144\x5f\x61\x74" => $data->create_date, "\143\162\145\141\x74\145\x64\137\142\x79" => $data->create_by]); }); } public function update(object $data, string $id, $client_id) : bool { return DB::transaction(function () use($data, $id, $client_id) { return DB::table("\164\x66\x69\x74\x75\162")->where("\151\144", $id)->where("\143\x6c\x69\x65\156\x74\137\x69\x64", "\x3d", $client_id)->where("\143\141\164\x65\147\x6f\x72\x79", "\x3d", "\122\x42")->update(["\x74\151\164\154\145" => $data->title, "\x64\x65\163\x63\162\x69\160\x74\x69\x6f\156" => $data->description, "\x61\x75\x74\x68\x6f\x72" => $data->author, "\146\151\x6c\145" => $data->file, "\x66\x6c\141\x67\137\x61\153\x74\151\x66" => $data->flag_aktif, "\x66\154\141\x67\137\x70\154\x61\x74\146\x6f\x72\x6d" => "\116", "\165\160\144\141\x74\x65\144\137\141\x74" => $data->modified_date, "\165\160\x64\141\x74\145\137\142\x79" => $data->modified_by]); }); } public function delete(string $id, $client_id) { return DB::transaction(function () use($id, $client_id) { goto SHrYv; e6NC3: $ReviewBuku_file = $ReviewBuku->first(); goto peJWX; SHrYv: $ReviewBuku = DB::table("\164\146\x69\x74\x75\x72")->where("\143\x6c\151\145\156\164\x5f\x69\144", "\x3d", $client_id)->where("\143\141\x74\x65\147\x6f\162\171", "\75", "\122\102")->where("\x69\144", $id); goto e6NC3; Q34z9: return $ReviewBuku->delete(); goto eW7B4; peJWX: @unlink(storage_path("\141\160\x70\x2f\x70\165\142\x6c\151\x63\57\x69\155\x61\147\x65\163\x2f\x6e\x65\x77\x73\x2f" . $ReviewBuku_file->file)); goto Q34z9; eW7B4: }); } }
