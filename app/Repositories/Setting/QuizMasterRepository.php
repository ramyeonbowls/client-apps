<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:14             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Repositories\Setting; use App\Models\IconMenu\IconMenu; use Illuminate\Support\Facades\DB; use Illuminate\Support\Collection; class QuizMasterRepository { public function get($filter, $client_id, $email) : Collection { return DB::table("\164\161\x75\151\172\137\x68\40\x61\163\40\x61")->select("\141\56\x69\144", "\x61\56\143\x6c\x69\145\156\x74\x5f\151\144", "\x61\56\164\x69\164\154\x65", "\x61\56\144\x65\163\x63\x72\151\160\x74\x69\x6f\x6e", "\141\56\163\164\141\162\x74\x5f\144\141\164\145", "\x61\x2e\x65\156\144\x5f\x64\141\x74\x65", "\x61\x2e\x63\x72\145\x61\164\145\x64\x5f\x61\x74", "\141\x2e\143\x72\145\x61\x74\145\144\x5f\142\171", "\141\x2e\x75\x70\x64\x61\164\145\x64\x5f\x61\164", "\141\x2e\x75\x70\x64\141\164\145\137\142\x79")->where("\141\x2e\143\154\x69\145\156\164\137\151\x64", "\x3d", $client_id)->where("\141\56\x63\162\x65\x61\164\x65\144\x5f\142\171", "\75", $email)->get(); } public function getQuestion($id, $client_id) : Collection { return DB::table("\164\161\x75\x69\172\137\x71\165\x65\x73\164\x69\x6f\x6e\40\x61\163\x20\141")->select("\141\x2e\52")->where("\x61\56\x63\x6c\x69\145\x6e\x74\137\151\x64", "\x3d", $client_id)->where("\141\x2e\x73\165\162\166\x65\171\x5f\x69\144", "\75", $id)->get(); } public function getAnswer($id, $question_id, $client_id) : Collection { return DB::table("\x74\161\165\x69\x7a\x5f\141\x6e\163\167\145\162\x20\141\163\40\x61")->select("\141\x2e\52")->where("\141\x2e\x63\x6c\x69\145\x6e\164\137\x69\144", "\x3d", $client_id)->where("\141\56\163\x75\x72\x76\x65\x79\137\x69\x64", "\75", $id)->where("\x61\56\x71\165\x65\x73\x74\151\157\156\x5f\151\x64", "\75", $question_id)->get(); } public function store(object $data, $client_id) : bool { return DB::transaction(function () use($data, $client_id) { goto yxtFF; B_bX_: return $success; goto ZtsFC; ZAN_R: foreach ($data->questions as $q => $question) { goto ejMXd; jRAYh: $answer = $question["\x61\156\x73\x77\145\x72"]; goto zyvLh; khdp2: $quiz_q = DB::table("\164\x71\x75\x69\x7a\137\x71\165\145\x73\164\151\x6f\x6e")->insert(["\x63\x6c\x69\145\156\x74\x5f\x69\144" => $client_id, "\x73\165\162\x76\x65\171\x5f\151\x64" => $data->id, "\x69\x64" => $question_id, "\x64\x65\x73\143\x72\x69\160\x74\x69\157\x6e" => $question["\144\x65\x73\x63\162\x69\x70\164\x69\157\156"], "\163\145\x71" => $question["\x74\145\155\x70\x6c\x61\x74\145\137\x73\x65\161\x75\145\x6e\x63\x65"], "\162\145\x71\x75\151\162\145\144" => $question["\x72\145\161\x75\151\162\x65\144"], "\x74\x79\x70\x65" => $question["\x74\171\160\x65"], "\x70\x6f\x69\156\164" => $question["\160\x6f\x69\156\x74"], "\x63\162\145\141\x74\145\x64\x5f\x62\x79" => $data->create_by, "\x63\162\x65\141\x74\145\x64\x5f\141\x74" => $data->create_date]); goto t1R3q; Etx7A: VE2hq: goto hsDh1; bKFKP: HsP8N: goto jRAYh; b4B2Q: $success = false; goto bKFKP; t1R3q: if ($quiz_q) { goto HsP8N; } goto b4B2Q; ejMXd: $question_id = $question["\x69\x64"]; goto khdp2; zyvLh: if (!(count($answer) > 1)) { goto VE2hq; } goto Lz9pV; Lz9pV: foreach ($answer as $a => $ans) { goto LjR8Q; kCFV2: TSwBk: goto I1D0q; LjR8Q: $answer_id = intval($a + 1); goto nYD7z; aR8PN: $success = false; goto XE28Y; nYD7z: $quiz_a = DB::table("\x74\161\x75\x69\172\137\x61\x6e\x73\167\x65\x72")->insert(["\143\x6c\x69\x65\156\164\137\151\x64" => $client_id, "\x73\165\x72\166\x65\171\137\x69\x64" => $data->id, "\x71\165\x65\163\x74\151\x6f\x6e\x5f\x69\144" => $question_id, "\151\144" => $answer_id, "\144\x65\x73\143\162\x69\160\x74\151\x6f\x6e" => $ans["\144\x65\x73\143\162\x69\x70\x74\151\x6f\156"], "\x70\157\151\x6e\164" => $ans["\160\157\x69\x6e\164"] > 0 ? $ans["\x70\x6f\x69\156\164"] : 0, "\x63\162\145\x61\164\x65\144\x5f\142\171" => $data->create_by, "\143\162\145\141\164\145\x64\x5f\x61\164" => $data->create_date]); goto oOvj0; oOvj0: if ($quiz_a) { goto ptuCp; } goto aR8PN; XE28Y: ptuCp: goto kCFV2; I1D0q: } goto cDMXl; hsDh1: Xtnf5: goto hh00K; cDMXl: cz8yN: goto Etx7A; hh00K: } goto c9ibu; TFh4H: goto YVpYt; goto fruIP; yxtFF: $success = true; goto j1WlN; Un_2Y: $success = false; goto TFh4H; c9ibu: XVKiz: goto LKHSb; LKHSb: YVpYt: goto B_bX_; fruIP: IJVx8: goto ZAN_R; j1WlN: $quiz_h = DB::table("\x74\x71\x75\x69\x7a\x5f\150")->insert(["\143\x6c\151\145\x6e\x74\x5f\151\x64" => $client_id, "\x69\144" => $data->id, "\164\151\x74\154\145" => $data->title, "\144\x65\x73\143\162\x69\160\164\151\157\156" => $data->description, "\163\164\141\x72\x74\137\x64\x61\164\x65" => $data->start_date, "\145\x6e\144\137\144\x61\164\x65" => $data->end_date, "\x63\x72\145\x61\x74\145\144\137\x62\171" => $data->create_by, "\143\162\x65\x61\164\145\x64\x5f\141\164" => $data->create_date]); goto F7aJu; F7aJu: if ($quiz_h) { goto IJVx8; } goto Un_2Y; ZtsFC: }); } public function update(object $data, string $id, $client_id) : bool { return DB::transaction(function () use($data, $id, $client_id) { goto PbXk8; eCWZP: if ($quiz_h) { goto UJRrt; } goto hRw6E; Dbsiq: G9y5Y: goto dmmV1; LD7Uy: Fyo4W: goto ycgNT; oOYbJ: $del_quiz_a = DB::table("\164\161\x75\151\172\x5f\x71\x75\145\x73\164\151\157\156")->where("\x73\165\162\x76\145\171\x5f\x69\x64", $data->id)->where("\143\154\151\x65\156\x74\x5f\x69\x64", "\x3d", $client_id)->delete(); goto fluZU; lf4j1: UJRrt: goto DHGEp; hRw6E: $success = false; goto IZMA7; v1bzE: $quiz_h = DB::table("\x74\161\165\151\x7a\137\x68")->where("\x69\x64", $id)->where("\x63\154\151\x65\156\x74\137\x69\x64", "\x3d", $client_id)->update(["\164\x69\x74\x6c\145" => $data->title, "\144\145\x73\x63\x72\x69\x70\x74\x69\157\156" => $data->description, "\x73\164\141\162\164\137\x64\141\x74\x65" => $data->start_date, "\145\156\x64\x5f\x64\x61\x74\x65" => $data->end_date, "\x75\160\144\x61\164\x65\137\x62\x79" => $data->modified_by, "\x75\160\x64\141\x74\145\x64\x5f\x61\164" => $data->modified_date]); goto eCWZP; IZMA7: goto KgCSB; goto lf4j1; HtGdo: foreach ($data->questions as $q => $question) { goto QPZrU; GKRx0: Ec0KC: goto ADckf; CKLCm: $answer = $question["\141\156\163\x77\145\162"]; goto ZuXB5; VG4m1: $quiz_q = DB::table("\x74\161\165\x69\x7a\137\161\x75\145\163\164\151\157\156")->insert(["\143\154\x69\145\x6e\164\137\151\144" => $client_id, "\x73\x75\162\x76\x65\x79\x5f\x69\x64" => $data->id, "\x69\x64" => $question_id, "\x64\x65\163\x63\x72\151\x70\164\151\157\156" => $question["\144\x65\163\x63\162\151\160\x74\x69\157\x6e"], "\x73\145\161" => $question["\x74\x65\x6d\x70\154\141\164\145\137\x73\145\x71\165\x65\x6e\143\x65"], "\x72\x65\x71\x75\x69\162\x65\144" => $question["\162\145\x71\x75\x69\162\x65\x64"], "\164\171\160\x65" => $question["\x74\171\x70\145"], "\160\157\x69\x6e\x74" => $question["\x70\157\x69\x6e\x74"], "\x63\162\x65\x61\164\x65\144\137\142\171" => $data->create_by, "\x63\162\145\x61\164\x65\144\x5f\141\x74" => $data->create_date]); goto vWfjX; ZfIsy: D8xTW: goto CKLCm; ADckf: gPg0l: goto Bnvmw; vWfjX: if ($quiz_q) { goto D8xTW; } goto mkjRH; Bnvmw: d37bg: goto H1QsF; ZuXB5: if (!(count($answer) > 1)) { goto gPg0l; } goto W_W6F; QPZrU: $question_id = $question["\151\x64"]; goto VG4m1; mkjRH: $success = false; goto ZfIsy; W_W6F: foreach ($answer as $a => $ans) { goto Lj_x_; Lj_x_: $answer_id = intval($a + 1); goto WZcKE; NOHGI: GcYAZ: goto vClRg; WZcKE: $quiz_a = DB::table("\164\161\x75\151\172\137\x61\x6e\x73\167\x65\x72")->insert(["\x63\x6c\x69\145\x6e\x74\137\x69\144" => $client_id, "\163\x75\x72\x76\x65\x79\x5f\x69\144" => $data->id, "\x71\165\x65\x73\x74\x69\157\156\137\151\144" => $question_id, "\x69\144" => $answer_id, "\144\x65\163\x63\x72\151\160\x74\151\157\x6e" => $ans["\x64\x65\163\x63\162\151\x70\164\x69\157\x6e"], "\x70\157\151\156\x74" => $ans["\x70\157\x69\156\x74"] > 0 ? $ans["\x70\157\151\156\164"] : 0, "\x63\162\145\141\164\145\144\137\142\171" => $data->create_by, "\143\x72\145\x61\x74\145\x64\137\x61\164" => $data->create_date]); goto SN8AC; gxbow: $success = false; goto CMFcQ; SN8AC: if ($quiz_a) { goto pzs78; } goto gxbow; CMFcQ: pzs78: goto NOHGI; vClRg: } goto GKRx0; H1QsF: } goto Dbsiq; YLRGY: return $success; goto zQrqI; DHGEp: $del_quiz_q = DB::table("\x74\x71\165\x69\172\x5f\141\156\163\167\x65\162")->where("\163\x75\x72\166\x65\x79\x5f\x69\x64", $data->id)->where("\143\x6c\151\x65\x6e\x74\137\151\144", "\75", $client_id)->delete(); goto oOYbJ; iLEwD: qqtbZ: goto Jo3Km; Jo3Km: $success = false; goto LD7Uy; PbXk8: $success = true; goto v1bzE; ycgNT: KgCSB: goto YLRGY; fluZU: if (!$del_quiz_q && !$del_quiz_a) { goto qqtbZ; } goto HtGdo; dmmV1: goto Fyo4W; goto iLEwD; zQrqI: }); } public function delete(string $id, $client_id) { return DB::transaction(function () use($id, $client_id) { goto bvP__; K8WLV: $quiz_q = DB::table("\x74\161\x75\151\x7a\x5f\161\165\x65\x73\x74\x69\157\x6e")->where("\x63\x6c\x69\145\x6e\164\137\x69\x64", "\x3d", $client_id)->where("\163\165\x72\166\145\x79\137\151\144", $id); goto POz4L; PNnl2: V_bT9: goto O5AoR; O5AoR: return $success; goto DdTkS; POz4L: $quiz_a = DB::table("\x74\x71\165\x69\172\x5f\141\x6e\163\167\x65\x72")->where("\x63\154\151\x65\156\x74\x5f\151\x64", "\x3d", $client_id)->where("\163\x75\162\166\x65\x79\137\x69\x64", $id); goto Ydngg; Ydngg: if (!(!$quiz_h->delete() || !$quiz_q->delete() || !$quiz_a->delete())) { goto V_bT9; } goto Yc1S0; Yc1S0: $success = false; goto PNnl2; bvP__: $success = true; goto RsTby; RsTby: $quiz_h = DB::table("\x74\161\165\x69\172\x5f\x68")->where("\x63\x6c\151\x65\156\164\137\151\x64", "\x3d", $client_id)->where("\151\144", $id); goto K8WLV; DdTkS: }); } }
