<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:21             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Repositories\Setting; use App\Models\IconMenu\IconMenu; use Illuminate\Support\Facades\DB; use Illuminate\Support\Collection; class QuizMasterRepository { public function get($filter, $client_id, $email) : Collection { return DB::table("\164\x71\165\151\x7a\x5f\150\40\x61\x73\x20\141")->select("\x61\56\151\x64", "\141\x2e\x63\154\151\x65\x6e\164\x5f\x69\144", "\x61\56\x74\x69\164\x6c\x65", "\141\x2e\144\145\x73\x63\162\x69\x70\164\x69\157\156", "\x61\x2e\163\x74\x61\162\x74\x5f\144\141\x74\145", "\x61\56\x65\156\144\x5f\144\x61\164\x65", "\x61\56\x63\x72\145\141\164\x65\x64\137\x61\164", "\141\56\143\x72\x65\141\164\145\144\137\142\x79", "\141\56\x75\x70\144\x61\164\x65\144\137\141\164", "\x61\56\165\160\x64\x61\164\x65\137\x62\x79")->where("\x61\56\x63\154\x69\x65\x6e\x74\x5f\151\144", "\75", $client_id)->where("\141\x2e\143\x72\x65\141\x74\145\x64\x5f\x62\171", "\x3d", $email)->get(); } public function getQuestion($id, $client_id) : Collection { return DB::table("\164\x71\165\x69\172\137\161\165\145\x73\x74\x69\157\x6e\x20\x61\x73\40\141")->select("\x61\56\x2a")->where("\141\x2e\143\154\151\x65\x6e\164\137\151\144", "\75", $client_id)->where("\141\x2e\163\165\x72\166\145\x79\137\151\144", "\75", $id)->get(); } public function getAnswer($id, $question_id, $client_id) : Collection { return DB::table("\164\x71\165\x69\172\x5f\141\156\163\167\x65\162\40\x61\x73\40\141")->select("\141\56\52")->where("\141\x2e\143\x6c\x69\145\156\164\137\151\x64", "\x3d", $client_id)->where("\141\x2e\163\165\162\x76\145\x79\137\151\144", "\75", $id)->where("\141\x2e\161\165\145\x73\x74\x69\157\156\137\151\144", "\x3d", $question_id)->get(); } public function store(object $data, $client_id) : bool { return DB::transaction(function () use($data, $client_id) { goto KLzHm; zMBBt: Zo6Se: goto YcJhV; YcJhV: foreach ($data->questions as $q => $question) { goto d2tDr; qtFUL: $answer = $question["\141\x6e\163\167\x65\x72"]; goto qUhtd; J9Ezh: JKPFb: goto KSiQP; BCBfV: CKEb3: goto J9Ezh; KSiQP: S5qVh: goto nuKKV; ix1fj: foreach ($answer as $a => $ans) { goto JDfx0; TmbiW: $success = false; goto gdBDh; IIGwB: $quiz_a = DB::table("\x74\161\165\151\172\x5f\x61\x6e\163\167\145\x72")->insert(["\x63\x6c\151\x65\156\164\137\151\x64" => $client_id, "\x73\x75\x72\x76\x65\x79\137\151\x64" => $data->id, "\161\x75\145\x73\x74\151\x6f\156\137\x69\144" => $question_id, "\x69\144" => $answer_id, "\144\x65\163\x63\x72\x69\160\x74\x69\x6f\x6e" => $ans["\144\145\x73\143\162\151\x70\x74\151\157\156"], "\160\157\x69\x6e\x74" => $ans["\x70\157\151\156\x74"] > 0 ? $ans["\x70\x6f\x69\156\x74"] : 0, "\x63\162\x65\141\164\x65\144\137\142\x79" => $data->create_by, "\x63\162\145\141\164\x65\x64\137\141\x74" => $data->create_date]); goto IBvS8; gdBDh: aA74T: goto aihbQ; IBvS8: if ($quiz_a) { goto aA74T; } goto TmbiW; JDfx0: $answer_id = intval($a + 1); goto IIGwB; aihbQ: un1Um: goto oj4UO; oj4UO: } goto BCBfV; qUhtd: if (!(count($answer) > 1)) { goto JKPFb; } goto ix1fj; HgHVo: if ($quiz_q) { goto NViWq; } goto uORdC; abgbU: NViWq: goto qtFUL; deOgw: $quiz_q = DB::table("\x74\161\165\x69\x7a\137\x71\x75\145\163\164\151\x6f\x6e")->insert(["\x63\x6c\151\x65\156\x74\x5f\x69\x64" => $client_id, "\x73\x75\162\166\145\171\137\x69\x64" => $data->id, "\x69\144" => $question_id, "\x64\145\163\x63\x72\151\160\x74\151\x6f\156" => $question["\x64\x65\x73\x63\162\151\160\164\x69\157\156"], "\163\145\161" => $question["\164\x65\155\160\x6c\x61\164\x65\137\163\145\161\x75\x65\x6e\x63\145"], "\x72\x65\x71\165\151\162\x65\x64" => $question["\162\x65\161\165\x69\x72\145\x64"], "\x74\171\x70\x65" => $question["\164\171\160\145"], "\160\157\x69\156\164" => $question["\160\x6f\151\x6e\x74"], "\143\x72\x65\x61\164\x65\144\137\142\x79" => $data->create_by, "\143\162\145\x61\x74\145\144\x5f\x61\164" => $data->create_date]); goto HgHVo; d2tDr: $question_id = $question["\x69\x64"]; goto deOgw; uORdC: $success = false; goto abgbU; nuKKV: } goto IJ7AB; HwybD: return $success; goto HdtyC; S7d3e: $quiz_h = DB::table("\164\x71\165\x69\x7a\x5f\x68")->insert(["\x63\x6c\x69\x65\156\164\137\x69\144" => $client_id, "\151\144" => $data->id, "\x74\x69\x74\154\x65" => $data->title, "\x64\145\x73\x63\x72\x69\160\164\x69\157\156" => $data->description, "\163\164\x61\162\x74\x5f\x64\x61\164\145" => $data->start_date, "\x65\x6e\144\137\144\141\164\x65" => $data->end_date, "\143\x72\x65\x61\164\145\x64\x5f\x62\171" => $data->create_by, "\143\x72\x65\141\164\x65\144\137\141\164" => $data->create_date]); goto swGEm; IJ7AB: owMQ0: goto lUPTu; lUPTu: wAHOm: goto HwybD; swGEm: if ($quiz_h) { goto Zo6Se; } goto fFbcK; KLzHm: $success = true; goto S7d3e; fFbcK: $success = false; goto Z3iuw; Z3iuw: goto wAHOm; goto zMBBt; HdtyC: }); } public function update(object $data, string $id, $client_id) : bool { return DB::transaction(function () use($data, $id, $client_id) { goto vAcjk; Qp_wM: ZhiAJ: goto hCiqQ; T_OWf: HSWWk: goto EH8UU; C3OL7: $quiz_h = DB::table("\164\161\165\151\x7a\x5f\150")->where("\151\x64", $id)->where("\143\154\x69\145\x6e\x74\137\x69\x64", "\x3d", $client_id)->update(["\x74\151\164\x6c\x65" => $data->title, "\144\x65\163\143\162\x69\x70\x74\x69\157\156" => $data->description, "\163\164\x61\x72\x74\137\x64\x61\x74\145" => $data->start_date, "\x65\x6e\x64\137\144\141\164\x65" => $data->end_date, "\165\x70\144\x61\164\145\x5f\142\171" => $data->modified_by, "\165\160\144\141\164\x65\144\x5f\141\164" => $data->modified_date]); goto pNqIC; EH8UU: return $success; goto sL7lk; vAcjk: $success = true; goto C3OL7; MU73e: goto HSWWk; goto KGMJP; k4oN4: gYNEW: goto T_OWf; uT6MU: $del_quiz_q = DB::table("\x74\x71\165\151\x7a\x5f\141\156\163\167\x65\x72")->where("\x73\165\x72\166\x65\171\137\x69\x64", $data->id)->where("\x63\x6c\x69\x65\156\x74\x5f\x69\144", "\75", $client_id)->delete(); goto pJkXe; pNqIC: if ($quiz_h) { goto HhUKg; } goto YYETA; YYETA: $success = false; goto MU73e; pJkXe: $del_quiz_a = DB::table("\x74\161\165\x69\x7a\x5f\x71\x75\145\163\x74\151\x6f\156")->where("\163\165\162\166\145\171\137\x69\x64", $data->id)->where("\x63\154\151\145\x6e\x74\x5f\151\x64", "\75", $client_id)->delete(); goto mKIPY; HDH9U: $success = false; goto k4oN4; hCiqQ: goto gYNEW; goto T8MlN; T8MlN: cRXzs: goto HDH9U; KGMJP: HhUKg: goto uT6MU; mKIPY: if (!$del_quiz_q && !$del_quiz_a) { goto cRXzs; } goto TDgKx; TDgKx: foreach ($data->questions as $q => $question) { goto u1moP; lfagn: JhJEn: goto i_hJb; LY_dz: Vx2QW: goto PnoJm; Ycu2K: foreach ($answer as $a => $ans) { goto VuMbz; vLMQz: $quiz_a = DB::table("\x74\x71\165\x69\x7a\137\x61\x6e\x73\167\x65\162")->insert(["\143\x6c\x69\145\156\164\x5f\x69\x64" => $client_id, "\x73\x75\x72\x76\145\x79\137\151\144" => $data->id, "\x71\165\x65\x73\x74\151\x6f\156\137\x69\x64" => $question_id, "\151\144" => $answer_id, "\x64\145\163\x63\162\x69\160\164\x69\x6f\156" => $ans["\x64\145\163\x63\x72\x69\x70\164\x69\x6f\x6e"], "\x70\157\x69\156\x74" => $ans["\x70\157\x69\156\x74"] > 0 ? $ans["\160\157\151\x6e\x74"] : 0, "\143\162\x65\141\x74\x65\x64\137\142\x79" => $data->create_by, "\143\162\x65\x61\x74\145\x64\137\x61\x74" => $data->create_date]); goto aq0OP; qRAbY: gH2lz: goto WyFiV; OiIIu: $success = false; goto qRAbY; VuMbz: $answer_id = intval($a + 1); goto vLMQz; aq0OP: if ($quiz_a) { goto gH2lz; } goto OiIIu; WyFiV: lxPUQ: goto BPDJW; BPDJW: } goto lfagn; u1moP: $question_id = $question["\151\144"]; goto y4_Al; vwU6Z: $success = false; goto LY_dz; RfV8t: if (!(count($answer) > 1)) { goto Qe22K; } goto Ycu2K; PnoJm: $answer = $question["\141\156\163\x77\145\x72"]; goto RfV8t; y4_Al: $quiz_q = DB::table("\x74\x71\165\151\x7a\x5f\161\165\145\x73\x74\151\157\156")->insert(["\143\x6c\x69\x65\156\164\x5f\x69\144" => $client_id, "\x73\165\162\166\x65\x79\x5f\151\144" => $data->id, "\151\x64" => $question_id, "\144\145\x73\x63\x72\x69\160\x74\x69\x6f\x6e" => $question["\x64\145\x73\143\162\151\x70\x74\x69\x6f\156"], "\163\x65\x71" => $question["\164\x65\155\x70\154\141\x74\x65\x5f\163\145\161\165\x65\x6e\143\145"], "\162\145\161\165\x69\162\145\144" => $question["\x72\x65\x71\x75\x69\162\145\144"], "\x74\171\x70\x65" => $question["\164\171\160\x65"], "\x70\157\x69\x6e\x74" => $question["\x70\157\x69\x6e\x74"], "\143\x72\145\141\x74\145\x64\x5f\x62\171" => $data->create_by, "\143\162\145\x61\x74\x65\x64\x5f\141\x74" => $data->create_date]); goto R2vxs; i_hJb: Qe22K: goto Rx25k; R2vxs: if ($quiz_q) { goto Vx2QW; } goto vwU6Z; Rx25k: FyR6q: goto OQWfH; OQWfH: } goto Qp_wM; sL7lk: }); } public function delete(string $id, $client_id) { return DB::transaction(function () use($id, $client_id) { goto E1rNq; d9MY8: $quiz_a = DB::table("\x74\161\x75\x69\172\x5f\141\x6e\163\167\145\x72")->where("\143\x6c\x69\x65\156\164\137\x69\x64", "\x3d", $client_id)->where("\163\x75\162\166\x65\171\x5f\151\144", $id); goto y766l; Zmm6j: $quiz_q = DB::table("\164\161\x75\151\172\137\161\165\x65\x73\x74\151\157\x6e")->where("\143\x6c\151\x65\x6e\x74\x5f\x69\144", "\75", $client_id)->where("\163\x75\162\166\145\171\137\151\x64", $id); goto d9MY8; aP7pJ: return $success; goto ZqM8t; y766l: if (!(!$quiz_h->delete() || !$quiz_q->delete() || !$quiz_a->delete())) { goto jFZ2c; } goto utsRW; utsRW: $success = false; goto R2xPP; E1rNq: $success = true; goto tC2iV; R2xPP: jFZ2c: goto aP7pJ; tC2iV: $quiz_h = DB::table("\164\161\x75\x69\x7a\x5f\150")->where("\x63\154\151\145\156\164\137\151\x64", "\75", $client_id)->where("\151\144", $id); goto Zmm6j; ZqM8t: }); } }
