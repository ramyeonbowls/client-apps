<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:14             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Repositories\Master; use App\Models\User; use App\Models\IconMenu\IconMenu; use Illuminate\Support\Collection; use Illuminate\Support\Facades\DB; use Illuminate\Support\Facades\Hash; class TeacherMasterRepository { public function get($client_id) : Collection { return DB::table("\165\163\x65\x72\163\x20\141\x73\x20\141")->select("\x61\x2e\x69\144", "\142\x2e\156\151\x6b", "\x62\56\x70\150\157\x74\157", "\141\56\156\x61\x6d\x65", "\x61\x2e\145\155\141\151\154", "\x62\x2e\160\150\157\x6e\x65", "\142\x2e\142\x69\x72\164\150\144\141\171", "\141\56\145\x6d\x61\x69\154\137\x76\145\162\x69\x66\151\145\144\137\141\x74", "\141\x2e\143\162\145\x61\x74\145\x64\137\141\164")->join("\x74\141\164\x74\x72\137\x6d\x65\155\142\x65\x72\40\x61\x73\40\x62", function ($join) { $join->on("\141\x2e\151\144", "\75", "\142\x2e\x69\x64"); })->where("\141\56\143\154\151\x65\x6e\x74\137\151\x64", "\75", $client_id)->where("\141\x2e\162\157\x6c\x65", "\75", "\x74\145\x61\x63\150\x65\x72")->get(); } public function store(object $data, $client_id) : bool { try { goto k158I; bI54z: return true; goto mBE_8; evcv2: hxEbc: goto ezlWl; eaAxB: $inserted[] = ["\165\x73\x65\162\x6e\141\x6d\x65" => $user->email, "\x6d\145\156\165\x5f\151\144" => $webmenus[$i], "\143\x72\145\141\164\x65\x5f\x70\145\x72\x6d\151\163\163\151\x6f\156" => 1, "\162\x65\x61\144\x5f\160\x65\162\155\x69\163\x73\151\157\x6e" => 1, "\x75\x70\144\x61\x74\x65\137\x70\x65\162\x6d\151\x73\x73\x69\157\156" => 1, "\x64\x65\x6c\x65\x74\145\137\x70\145\162\x6d\x69\x73\163\x69\x6f\156" => 1, "\x70\x72\x69\x6e\164\x5f\160\x65\x72\x6d\151\163\x73\x69\x6f\156" => 1, "\141\x70\160\162\x6f\x76\145\x5f\x70\145\x72\x6d\x69\x73\x73\151\157\156" => 1, "\143\162\x65\141\x74\x65\144\137\141\164" => $data->create_date]; goto RLnYI; yojPx: $attr = DB::table("\164\141\x74\x74\x72\x5f\x6d\x65\x6d\x62\x65\162")->insert(["\151\144" => $user->id, "\143\x6c\x69\x65\156\164\137\x69\144" => $client_id, "\156\x69\153" => $data->nik, "\x70\150\157\156\x65" => $data->phone, "\142\151\162\164\150\144\x61\x79" => $data->birthday, "\x67\145\x6e\144\x65\x72" => $data->gender, "\x63\162\145\x61\x74\145\144\x5f\141\x74" => $data->create_date]); goto xrzit; vNrLC: Qe8jG: goto TCG1m; TCG1m: if (!($i < count($webmenus))) { goto hxEbc; } goto eaAxB; xrzit: $webmenus = [1, 4, 18, 27, 29]; goto UfdQi; ezlWl: $acl = DB::table("\x77\x65\142\137\x6d\x65\x6e\x75\137\x61\x63\x6c\163")->insert($inserted); goto bI54z; RLnYI: MhElF: goto y0IRB; Qep91: goto Qe8jG; goto evcv2; UfdQi: $i = 0; goto vNrLC; k158I: $user = $this->createUser($data, $client_id); goto yojPx; y0IRB: $i++; goto Qep91; mBE_8: } catch (\Exception $e) { \Log::error("\x43\x72\145\x61\164\x65\40\x74\x65\141\143\150\x65\162\40\x66\141\x69\154\x65\144\40\x3d\76\40" . $e->getMessage()); return false; } } protected function createUser(object $data, $client_id) { return User::create(["\156\141\155\x65" => $data->name, "\145\x6d\141\x69\x6c" => $data->email, "\160\141\x73\163\x77\157\162\x64" => Hash::make($data->password), "\162\157\154\x65" => "\x74\145\x61\143\x68\145\x72", "\146\x6c\141\147\137\141\x70\160\162\x6f\x76\145" => "\131", "\145\155\x61\x69\154\137\x76\145\x72\x69\146\x69\x65\144\137\x61\164" => $data->create_date, "\x63\162\x65\141\x74\x65\x64\137\x61\164" => $data->create_date, "\x63\x6c\151\145\x6e\x74\137\x69\144" => $client_id]); } public function update(object $data, string $id) : bool { return DB::transaction(function () use($data, $id) { return DB::table("\165\x73\x65\162\x73")->where("\151\x64", $id)->where("\162\x6f\154\x65", "\x3d", "\164\145\141\x63\x68\x65\162")->update(["\x64\x65\x73\x63\x72\x69\160\164\151\x6f\x6e" => $data->desc, "\146\151\x6c\145" => $data->file, "\144\151\x73\160\x5f\164\171\x70\145" => $data->type, "\x63\154\x69\x65\x6e\164\x5f\151\144" => '', "\165\160\x64\141\x74\145\x64\137\x61\164" => $data->modified_date, "\x75\160\x64\141\x74\x65\x64\137\x62\x79" => $data->modified_by]); }); } public function delete(string $id, $client_id) { return DB::transaction(function () use($id, $client_id) { goto hruNQ; DAL_P: @unlink(storage_path("\141\x70\160\x2f\x70\x75\142\154\151\x63\57\151\155\x61\147\145\163\57\x70\x72\x6f\x66\x69\154\145\x2f" . $attr_file->photo)); goto LjSKm; imLxg: DB::table("\167\x65\x62\137\155\x65\156\165\137\x61\143\x6c\163")->where("\x75\163\145\162\x6e\x61\x6d\145", $teacher->email)->delete(); goto cyjU6; m4e0J: DB::table("\164\x61\x74\164\x72\x5f\x6d\145\x6d\142\145\162")->where("\151\144", $id)->where("\143\x6c\x69\145\156\164\137\151\144", $client_id)->delete(); goto oLwlk; LjSKm: bvUGY: goto m4e0J; EdoUp: if (!$teacher) { goto TGmjz; } goto imLxg; cyjU6: $teacher = DB::table("\x75\x73\x65\x72\x73")->where("\151\x64", $id)->where("\143\x6c\151\x65\x6e\164\137\x69\144", $client_id)->where("\x72\x6f\154\x65", "\x74\145\141\143\x68\x65\x72"); goto ogIS1; Q7Jj2: TGmjz: goto Mr9L0; hY5kU: if (!($attr_file->photo != '')) { goto bvUGY; } goto DAL_P; oLwlk: $teacher = DB::table("\165\163\x65\x72\x73")->where("\x69\144", $id)->where("\143\154\151\145\x6e\164\137\x69\144", $client_id)->where("\x72\157\x6c\x65", "\x74\x65\141\x63\x68\x65\x72")->first(); goto EdoUp; bRJmX: $attr_file = $attr->first(); goto hY5kU; hruNQ: $attr = DB::table("\164\x61\164\x74\x72\x5f\155\145\155\142\x65\162")->where("\x63\154\x69\x65\156\x74\x5f\x69\144", $client_id)->where("\151\144", $id); goto bRJmX; ogIS1: return $teacher->delete(); goto Q7Jj2; Mr9L0: return false; goto F3L5x; F3L5x: }); } public function check(string $id, $client_id) { return DB::table("\x74\x74\x72\x78\137\162\145\x61\x64\40\141\163\40\141")->select([DB::raw("\x43\117\125\116\x54\50\x44\111\x53\124\111\x4e\x43\124\x20\x61\x2e\x62\x6f\157\153\137\151\x64\51\40\101\123\x20\x74\x6f\x74\x61\154")])->where("\141\x2e\x63\x6c\x69\145\156\164\x5f\151\144", $client_id)->where("\x61\56\x75\163\145\162\137\x69\144", $id)->get(); } }
