<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\MemberReportExport; use App\Services\Report\MemberReportService; use Yajra\DataTables\Facades\DataTables; class MemberReportController extends Controller { private MemberReportService $book_service; public function __construct() { $this->middleware("\141\x75\x74\x68"); $this->book_service = new MemberReportService(); } public function index(Request $request) : JsonResponse { goto Tuohi; QywRD: try { goto XrY5U; XrY5U: DB::enableQueryLog(); goto hzPFH; ZpX_a: azYQZ: goto FSIZK; zMV8l: xAM9p: goto xlgi9; kpE7d: $sql = Str::replaceArray("\77", $queries[$q]["\142\151\x6e\144\151\156\147\x73"], str_replace("\77", "\47\x3f\x27", $queries[$q]["\161\165\145\162\x79"])); goto wSpYN; Zm7dp: $queries = DB::getQueryLog(); goto z6oZT; FSIZK: $q++; goto FacIp; wSpYN: $logs->write("\x42\x49\116\104\111\x4e\x47", "\x5b" . implode("\54\40", $queries[$q]["\142\x69\156\x64\x69\156\147\163"]) . "\135"); goto WZuaC; nrs7l: $filter["\x57\x4c"] = $request->WL ?? ''; goto OTiR0; OTiR0: $results = $this->book_service->get($filter); goto Zm7dp; LjD6W: mTpQF: goto tQuPt; z6oZT: $q = 0; goto LjD6W; hzPFH: $filter["\120\x52\x4f\126\x49\116\x53\x49"] = $request->PROVINSI ?? ''; goto QO2mm; FacIp: goto mTpQF; goto zMV8l; QO2mm: $filter["\x4b\101\x42\125\120\101\x54\x45\x4e"] = $request->KABUPATEN ?? ''; goto nrs7l; WZuaC: $logs->write("\x53\121\114", $sql); goto ZpX_a; tQuPt: if (!($q < count($queries))) { goto xAM9p; } goto kpE7d; xlgi9: } catch (Throwable $th) { $logs->write("\x45\122\x52\117\122", $th->getMessage()); } goto Bp5pD; Bp5pD: $logs->write(__FUNCTION__, "\x53\124\x4f\120\xd\12"); goto yNtg3; C9ayS: $logs->write(__FUNCTION__, "\x53\124\x41\x52\124"); goto GNzgi; Tuohi: if (!$request->has("\156\x6f\x64\x61\164\141")) { goto F5EOj; } goto UREfa; yNtg3: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto ramF5; GNzgi: $results = []; goto QywRD; YrvhY: F5EOj: goto Yfz9L; UREfa: return DataTables::of([])->toJson(); goto YrvhY; Yfz9L: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\157\147"); goto C9ayS; ramF5: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto qv1aA; nizXD: $q = 0; goto bdArY; nQ77s: goto sDE3o; goto DW_2j; skjEn: $sql = Str::replaceArray("\77", $queries[$q]["\x62\151\x6e\x64\x69\156\x67\163"], str_replace("\x3f", "\x27\x3f\47", $queries[$q]["\161\165\145\162\171"])); goto Rs4eC; dIh2V: $logs->write(__FUNCTION__, "\123\124\101\122\x54"); goto uG0mC; LjNmi: $q++; goto nQ77s; qv1aA: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\x4c\x6f\147"); goto dIh2V; ltRH1: if (!($q < count($queries))) { goto udrnd; } goto skjEn; DW_2j: udrnd: goto IR0aB; mcFzv: pvRGy: goto LjNmi; ciHTs: try { goto inYwg; Uay8j: $filter["\x57\114"] = $request->WL ?? ''; goto NHl6O; inYwg: DB::enableQueryLog(); goto Elc_F; NHl6O: $this->book_service->get($filter)->map(function ($value, $i) use(&$results) { goto N576G; wTizm: $results[$i]["\143\162\145\141\x74\x65\144\137\141\x74"] = $value->created_at; goto yz6_f; W5ejG: $results[$i]["\160\x72\x6f\x76\x69\156\x73\151\x5f\156\x61\x6d\145"] = $value->provinsi_name; goto no5d5; SLLNq: $results[$i]["\156\141\x6d\x65"] = $value->name; goto mqmlI; N576G: $results[$i]["\167\154\x5f\156\x61\x6d\x65"] = $value->wl_name; goto W5ejG; no5d5: $results[$i]["\153\x61\x62\x75\160\x61\x74\x65\156\x5f\x6e\141\155\x65"] = $value->kabupaten_name; goto SLLNq; mqmlI: $results[$i]["\145\x6d\141\x69\154"] = $value->email; goto wTizm; yz6_f: }); goto PPcJi; Elc_F: $filter["\120\122\117\x56\111\x4e\123\x49"] = $request->PROVINSI ?? ''; goto qd67r; qd67r: $filter["\113\x41\102\x55\x50\x41\x54\x45\x4e"] = $request->KABUPATEN ?? ''; goto Uay8j; PPcJi: } catch (\Exception $e) { $logs->write("\x45\122\x52\117\122", $e->getMessage()); } goto W8_8W; MHAX1: $logs->write("\123\121\x4c", $sql); goto mcFzv; W8_8W: $queries = DB::getQueryLog(); goto nizXD; IR0aB: $logs->write(__FUNCTION__, "\x53\124\117\x50\15\12"); goto FzTYa; FzTYa: return Excel::download(new MemberReportExport($results), "\114\x61\160\157\162\x61\156\x5f\102\141\x63\141\137\102\165\153\x75\x2e\170\154\163\x78"); goto XosrW; bdArY: sDE3o: goto ltRH1; Rs4eC: $logs->write("\102\111\116\104\111\x4e\107", "\x5b" . implode("\x2c\x20", $queries[$q]["\x62\151\156\x64\x69\x6e\147\x73"]) . "\x5d"); goto MHAX1; uG0mC: $results = []; goto ciHTs; XosrW: } }
