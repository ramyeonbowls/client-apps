<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:19             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\LibraryOfficerReportExport; use App\Services\Report\LibraryOfficerReportService; use Yajra\DataTables\Facades\DataTables; class LibraryOfficerReportController extends Controller { private LibraryOfficerReportService $officer_service; public function __construct() { $this->middleware("\141\x75\x74\x68"); $this->officer_service = new LibraryOfficerReportService(); } public function index(Request $request) : JsonResponse { goto iRALZ; CZ1Tj: m4IuA: goto Pwe_S; l5dMh: return DataTables::of([])->toJson(); goto CZ1Tj; eEQ3_: try { goto w5zez; B3Y22: $queries = DB::getQueryLog(); goto uJdD_; MtbUj: $sql = Str::replaceArray("\77", $queries[$q]["\142\x69\x6e\144\151\156\x67\163"], str_replace("\77", "\x27\77\47", $queries[$q]["\x71\165\x65\162\171"])); goto tTHWb; OxB3a: LhRQ5: goto hIieR; y9cHN: $q++; goto NMQ1P; IYa2E: $filter["\x50\122\117\x56\x49\116\123\111"] = $request->PROVINSI ?? ''; goto nJJJB; Saqs2: cNOVD: goto qpYBU; ACKnw: u99do: goto y9cHN; qp32w: $filter["\127\114"] = $request->WL ?? ''; goto yGIIv; qpYBU: if (!($q < count($queries))) { goto LhRQ5; } goto MtbUj; tTHWb: $logs->write("\x42\x49\x4e\104\x49\x4e\107", "\x5b" . implode("\54\x20", $queries[$q]["\142\151\x6e\144\x69\x6e\147\x73"]) . "\x5d"); goto pHXqy; yGIIv: $results = $this->officer_service->get($filter); goto B3Y22; NMQ1P: goto cNOVD; goto OxB3a; nJJJB: $filter["\x4b\x41\102\125\x50\101\124\x45\x4e"] = $request->KABUPATEN ?? ''; goto qp32w; uJdD_: $q = 0; goto Saqs2; w5zez: DB::enableQueryLog(); goto IYa2E; pHXqy: $logs->write("\x53\x51\x4c", $sql); goto ACKnw; hIieR: } catch (Throwable $th) { $logs->write("\105\122\122\117\122", $th->getMessage()); } goto Cz6f3; iRALZ: if (!$request->has("\x6e\157\144\x61\164\141")) { goto m4IuA; } goto l5dMh; aKf2J: $logs->write(__FUNCTION__, "\123\x54\101\x52\x54"); goto Kufkq; Eitca: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto fG7Yp; Kufkq: $results = []; goto eEQ3_; Cz6f3: $logs->write(__FUNCTION__, "\x53\124\117\120\xd\12"); goto Eitca; Pwe_S: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\x6f\147"); goto aKf2J; fG7Yp: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto ns_7o; leUc3: return Excel::download(new LibraryOfficerReportExport($results), "\114\x61\160\x6f\162\141\x6e\x5f\x70\145\164\165\147\141\x73\137\x70\145\162\x70\165\163\164\141\153\141\141\x6e\x2e\170\154\163\170"); goto DTdRg; PHqpI: $logs->write("\102\111\116\104\x49\x4e\x47", "\133" . implode("\x2c\x20", $queries[$q]["\142\151\x6e\x64\x69\x6e\x67\x73"]) . "\x5d"); goto z3mlB; lJJ4i: $sql = Str::replaceArray("\x3f", $queries[$q]["\x62\151\156\x64\151\156\147\x73"], str_replace("\x3f", "\47\x3f\x27", $queries[$q]["\161\165\145\x72\x79"])); goto PHqpI; i2UYc: $q++; goto Z_HV8; lWhNl: $queries = DB::getQueryLog(); goto JZuqB; z3mlB: $logs->write("\123\x51\x4c", $sql); goto GXV05; JZuqB: $q = 0; goto c29uX; vqD8X: try { goto UGe9p; UGe9p: DB::enableQueryLog(); goto si1_P; SotGb: $this->officer_service->get($filter)->map(function ($value, $i) use(&$results) { goto moO73; ll5pO: $results[$i]["\156\x69\x70"] = $value->nip; goto DoxIe; AgXFs: $results[$i]["\x6b\x61\142\x75\160\141\x74\145\156\x5f\156\141\x6d\x65"] = $value->kabupaten_name; goto ll5pO; DoxIe: $results[$i]["\156\x61\155\x65"] = $value->name; goto dmxXX; lnyqf: $results[$i]["\160\162\157\166\x69\x6e\163\x69\x5f\156\x61\x6d\x65"] = $value->provinsi_name; goto AgXFs; moO73: $results[$i]["\167\154\137\156\141\155\145"] = $value->wl_name; goto lnyqf; dmxXX: $results[$i]["\x70\x6f\163\x69\164\x69\157\x6e"] = $value->position; goto XdP1d; XdP1d: }); goto jKGyd; auZcV: $filter["\113\101\102\x55\120\101\124\105\116"] = $request->KABUPATEN ?? ''; goto NlDiX; NlDiX: $filter["\127\x4c"] = $request->WL ?? ''; goto SotGb; si1_P: $filter["\x50\x52\117\x56\111\116\123\x49"] = $request->PROVINSI ?? ''; goto auZcV; jKGyd: } catch (\Exception $e) { $logs->write("\105\122\x52\117\x52", $e->getMessage()); } goto lWhNl; c29uX: Yms5V: goto G0Rei; SHh0r: $results = []; goto vqD8X; ns_7o: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\157\x67"); goto kPfKS; G0Rei: if (!($q < count($queries))) { goto YrUel; } goto lJJ4i; GXV05: nYfHf: goto i2UYc; dutCI: $logs->write(__FUNCTION__, "\123\124\x4f\120\15\12"); goto leUc3; Z_HV8: goto Yms5V; goto oOxiz; kPfKS: $logs->write(__FUNCTION__, "\123\x54\101\x52\124"); goto SHh0r; oOxiz: YrUel: goto dutCI; DTdRg: } }
