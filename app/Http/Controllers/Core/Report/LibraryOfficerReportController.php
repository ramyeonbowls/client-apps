<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\LibraryOfficerReportExport; use App\Services\Report\LibraryOfficerReportService; use Yajra\DataTables\Facades\DataTables; class LibraryOfficerReportController extends Controller { private LibraryOfficerReportService $officer_service; public function __construct() { $this->middleware("\x61\x75\164\150"); $this->officer_service = new LibraryOfficerReportService(); } public function index(Request $request) : JsonResponse { goto yGztW; blSiE: $results = []; goto CEeFg; P3Sr0: return DataTables::of([])->toJson(); goto IwrAb; SXlbH: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto kzZTv; CEeFg: try { goto fNbeV; lMfDZ: $sql = Str::replaceArray("\x3f", $queries[$q]["\x62\x69\x6e\x64\x69\156\x67\163"], str_replace("\77", "\x27\77\x27", $queries[$q]["\x71\x75\145\x72\x79"])); goto oARgP; EBCou: $q++; goto XSgC1; XSgC1: goto RLrVW; goto z8Wcu; y7kYB: $filter["\120\122\117\x56\111\x4e\123\x49"] = $request->PROVINSI ?? ''; goto IsrD9; tVoab: PPgq8: goto EBCou; z8Wcu: j4E3L: goto vmi7A; fNbeV: DB::enableQueryLog(); goto y7kYB; pjZfY: $queries = DB::getQueryLog(); goto k2Uls; k2Uls: $q = 0; goto hO9Ao; yHe6C: $results = $this->officer_service->get($filter); goto pjZfY; Px2MG: $logs->write("\x53\x51\114", $sql); goto tVoab; hO9Ao: RLrVW: goto TAd70; pxEmL: $filter["\127\114"] = $request->WL ?? ''; goto yHe6C; oARgP: $logs->write("\102\111\116\x44\x49\x4e\107", "\133" . implode("\x2c\x20", $queries[$q]["\x62\x69\156\x64\151\156\x67\x73"]) . "\135"); goto Px2MG; TAd70: if (!($q < count($queries))) { goto j4E3L; } goto lMfDZ; IsrD9: $filter["\x4b\x41\102\125\x50\101\x54\105\x4e"] = $request->KABUPATEN ?? ''; goto pxEmL; vmi7A: } catch (Throwable $th) { $logs->write("\x45\x52\x52\117\122", $th->getMessage()); } goto HoSvY; yGztW: if (!$request->has("\x6e\157\x64\141\164\x61")) { goto A_QAX; } goto P3Sr0; OaCdV: $logs->write(__FUNCTION__, "\x53\124\101\122\124"); goto blSiE; hxUqR: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\x6f\x67"); goto OaCdV; HoSvY: $logs->write(__FUNCTION__, "\x53\124\117\120\xd\xa"); goto SXlbH; IwrAb: A_QAX: goto hxUqR; kzZTv: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto z6YtU; McYsz: if (!($q < count($queries))) { goto FjQeg; } goto fxBzO; OrlDW: nv_Mc: goto Euv92; LIPV0: $logs->write("\x53\121\114", $sql); goto OrlDW; yOBHl: Tl6wS: goto McYsz; vG6t_: goto Tl6wS; goto QVQSa; q71GU: $logs->write(__FUNCTION__, "\123\x54\x41\x52\124"); goto DiXZa; l52db: return Excel::download(new LibraryOfficerReportExport($results), "\114\141\160\157\162\x61\x6e\137\160\145\x74\165\147\x61\x73\137\160\145\x72\x70\165\163\164\x61\x6b\x61\x61\156\x2e\x78\x6c\x73\x78"); goto wweUn; ZIpiO: $logs->write("\102\x49\116\104\x49\116\107", "\133" . implode("\54\40", $queries[$q]["\142\151\x6e\144\x69\x6e\147\x73"]) . "\x5d"); goto LIPV0; DiXZa: $results = []; goto EpdvZ; EpdvZ: try { goto h_Iw9; s1D6P: $filter["\x50\x52\x4f\x56\x49\116\123\111"] = $request->PROVINSI ?? ''; goto ddS4N; h_Iw9: DB::enableQueryLog(); goto s1D6P; vlClu: $filter["\127\x4c"] = $request->WL ?? ''; goto oPGsq; ddS4N: $filter["\x4b\101\x42\125\x50\101\124\x45\x4e"] = $request->KABUPATEN ?? ''; goto vlClu; oPGsq: $this->officer_service->get($filter)->map(function ($value, $i) use(&$results) { goto CY28h; q3RQG: $results[$i]["\156\151\160"] = $value->nip; goto xjeRO; eOeoR: $results[$i]["\160\162\157\166\151\156\163\x69\137\156\141\155\x65"] = $value->provinsi_name; goto QkW25; xjeRO: $results[$i]["\156\141\x6d\145"] = $value->name; goto F2BlJ; F2BlJ: $results[$i]["\160\157\163\x69\164\151\x6f\156"] = $value->position; goto r1wh2; QkW25: $results[$i]["\153\x61\142\165\x70\x61\x74\x65\x6e\x5f\156\x61\155\145"] = $value->kabupaten_name; goto q3RQG; CY28h: $results[$i]["\167\154\137\x6e\x61\155\145"] = $value->wl_name; goto eOeoR; r1wh2: }); goto e_ZtY; e_ZtY: } catch (\Exception $e) { $logs->write("\x45\x52\x52\117\122", $e->getMessage()); } goto fUBZ_; fUBZ_: $queries = DB::getQueryLog(); goto sp2EY; Euv92: $q++; goto vG6t_; z6YtU: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\x6f\147"); goto q71GU; sp2EY: $q = 0; goto yOBHl; QGoE9: $logs->write(__FUNCTION__, "\123\x54\x4f\120\xd\xa"); goto l52db; QVQSa: FjQeg: goto QGoE9; fxBzO: $sql = Str::replaceArray("\77", $queries[$q]["\x62\x69\x6e\144\x69\x6e\147\x73"], str_replace("\77", "\x27\x3f\47", $queries[$q]["\161\165\145\162\171"])); goto ZIpiO; wweUn: } }
