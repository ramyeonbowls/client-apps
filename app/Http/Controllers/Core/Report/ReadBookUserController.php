<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\ReadBookUserExport; use App\Services\Report\ReadBookUserService; use Yajra\DataTables\Facades\DataTables; class ReadBookUserController extends Controller { private ReadBookUserService $book_service; public function __construct() { $this->middleware("\141\165\x74\x68"); $this->book_service = new ReadBookUserService(); } public function index(Request $request) : JsonResponse { goto UuWtC; d2y3r: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto FEwBK; B4bGD: try { goto j2Ulo; u5Qxp: NHHDM: goto Zd7W2; B7uMz: $q++; goto vKdZY; Zbcug: $results = $this->book_service->get($filter); goto pxbv6; uKiAQ: $logs->write("\x53\121\x4c", $sql); goto i0lRv; rkDih: $filter["\x50\x52\117\126\111\x4e\x53\111"] = $request->PROVINSI ?? ''; goto ttp19; uoq13: x5cj2: goto fa5Iu; i0lRv: oCIiB: goto B7uMz; pq9jW: $q = 0; goto uoq13; ttp19: $filter["\x4b\x41\102\x55\x50\x41\124\105\116"] = $request->KABUPATEN ?? ''; goto A0aKg; aFe1N: $sql = Str::replaceArray("\77", $queries[$q]["\142\151\156\144\x69\x6e\147\x73"], str_replace("\x3f", "\47\77\47", $queries[$q]["\x71\x75\x65\x72\x79"])); goto gdDdG; bDpRy: $filter["\x53\124\101\x52\124\x5f\104\101\x54\x45"] = $request->START_DATE ?? ''; goto k8cVm; k8cVm: $filter["\105\x4e\x44\x5f\x44\x41\124\x45"] = $request->END_DATE ?? ''; goto Zbcug; pxbv6: $queries = DB::getQueryLog(); goto pq9jW; j2Ulo: DB::enableQueryLog(); goto rkDih; vKdZY: goto x5cj2; goto u5Qxp; fa5Iu: if (!($q < count($queries))) { goto NHHDM; } goto aFe1N; A0aKg: $filter["\127\x4c"] = $request->WL ?? ''; goto bDpRy; gdDdG: $logs->write("\x42\111\x4e\x44\111\116\107", "\x5b" . implode("\x2c\40", $queries[$q]["\x62\x69\156\x64\151\156\x67\x73"]) . "\x5d"); goto uKiAQ; Zd7W2: } catch (Throwable $th) { $logs->write("\105\x52\x52\x4f\122", $th->getMessage()); } goto XAD7e; X1TTW: $results = []; goto B4bGD; neGfC: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\x6f\147"); goto Nt3Cf; XAD7e: $logs->write(__FUNCTION__, "\x53\x54\x4f\x50\xd\12"); goto d2y3r; e7vN5: ac29s: goto neGfC; UuWtC: if (!$request->has("\x6e\157\x64\141\x74\141")) { goto ac29s; } goto w616O; w616O: return DataTables::of([])->toJson(); goto e7vN5; Nt3Cf: $logs->write(__FUNCTION__, "\x53\x54\x41\122\124"); goto X1TTW; FEwBK: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto uklcr; zh4Pl: RN0gW: goto NHObU; pZLhx: if (!($q < count($queries))) { goto noYOo; } goto J0NaU; WCv6D: $logs->write("\x53\121\114", $sql); goto zh4Pl; Z0CVe: try { goto ZbFZw; ZbFZw: DB::enableQueryLog(); goto uHqfO; zPP8x: $filter["\x4b\x41\102\x55\x50\x41\x54\105\116"] = $request->KABUPATEN ?? ''; goto DS0VX; AUzFt: $filter["\123\x54\101\x52\x54\x5f\104\x41\124\105"] = $request->START_DATE ?? ''; goto mYqRk; nQo_y: $this->book_service->get($filter)->map(function ($value, $i) use(&$results) { goto q45sE; nwhhA: $results[$i]["\x64\151\142\141\143\x61"] = $value->dibaca; goto VBIqY; reB3a: $results[$i]["\153\141\142\x75\160\141\x74\x65\x6e\x5f\x6e\141\x6d\x65"] = $value->kabupaten_name; goto nwhhA; Cf83X: $results[$i]["\160\162\157\166\151\156\x73\x69\x5f\x6e\141\155\x65"] = $value->provinsi_name; goto reB3a; q45sE: $results[$i]["\x77\x6c\137\156\141\x6d\x65"] = $value->wl_name; goto Cf83X; h9UZD: $results[$i]["\144\165\162\141\x73\151"] = $value->durasi; goto BNbMS; VBIqY: $results[$i]["\x6e\x61\155\x65"] = $value->name; goto h9UZD; BNbMS: }); goto CSRwT; DS0VX: $filter["\x57\114"] = $request->WL ?? ''; goto AUzFt; uHqfO: $filter["\x50\x52\117\126\111\x4e\123\111"] = $request->PROVINSI ?? ''; goto zPP8x; mYqRk: $filter["\105\116\x44\137\104\101\124\x45"] = $request->END_DATE ?? ''; goto nQo_y; CSRwT: } catch (\Exception $e) { $logs->write("\105\x52\x52\117\x52", $e->getMessage()); } goto FMO2j; NHObU: $q++; goto yfRzA; yfRzA: goto xZMz6; goto cpGZN; ZNw1o: $logs->write(__FUNCTION__, "\x53\x54\101\x52\x54"); goto qCBR_; EOCLr: $q = 0; goto ObE6H; TO1Pj: $logs->write("\102\111\x4e\104\111\x4e\107", "\133" . implode("\54\x20", $queries[$q]["\x62\151\156\144\151\x6e\x67\163"]) . "\x5d"); goto WCv6D; abDWp: return Excel::download(new ReadBookUserExport($results), "\x4c\141\160\157\x72\x61\x6e\x5f\102\x61\143\141\x5f\x42\165\x6b\165\x2e\170\x6c\x73\170"); goto xb8jK; rPlHU: $logs->write(__FUNCTION__, "\x53\x54\x4f\120\15\12"); goto abDWp; J0NaU: $sql = Str::replaceArray("\77", $queries[$q]["\x62\151\x6e\144\151\x6e\147\x73"], str_replace("\x3f", "\47\x3f\x27", $queries[$q]["\161\x75\x65\x72\171"])); goto TO1Pj; ObE6H: xZMz6: goto pZLhx; FMO2j: $queries = DB::getQueryLog(); goto EOCLr; qCBR_: $results = []; goto Z0CVe; uklcr: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\x6f\147"); goto ZNw1o; cpGZN: noYOo: goto rPlHU; xb8jK: } }
