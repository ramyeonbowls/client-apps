<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:19             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\ReadBookUserExport; use App\Services\Report\ReadBookUserService; use Yajra\DataTables\Facades\DataTables; class ReadBookUserController extends Controller { private ReadBookUserService $book_service; public function __construct() { $this->middleware("\x61\165\x74\150"); $this->book_service = new ReadBookUserService(); } public function index(Request $request) : JsonResponse { goto yKL7i; SFXt9: BRaZn: goto TDGQu; E6Jpj: $logs->write(__FUNCTION__, "\x53\x54\x41\122\124"); goto DcZaF; DQ87a: return DataTables::of([])->toJson(); goto SFXt9; VOKlw: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto Qvvf0; nYGPn: try { goto zi14e; cqlKP: $q = 0; goto q7VBu; leZT_: goto j0sZM; goto ouCPn; l0sxE: $queries = DB::getQueryLog(); goto cqlKP; MJ20V: $logs->write("\x42\x49\x4e\104\x49\x4e\x47", "\133" . implode("\x2c\x20", $queries[$q]["\142\151\x6e\x64\151\x6e\147\163"]) . "\x5d"); goto evoar; q7VBu: j0sZM: goto CLPfq; akCgp: $filter["\x50\122\117\x56\111\116\x53\x49"] = $request->PROVINSI ?? ''; goto G25nu; zi14e: DB::enableQueryLog(); goto akCgp; IxiI6: $filter["\123\x54\x41\122\124\x5f\104\x41\x54\x45"] = $request->START_DATE ?? ''; goto qtTzz; evoar: $logs->write("\123\121\x4c", $sql); goto dxnmu; d7b8u: $sql = Str::replaceArray("\77", $queries[$q]["\142\151\x6e\x64\151\x6e\x67\163"], str_replace("\77", "\47\77\x27", $queries[$q]["\161\165\145\x72\x79"])); goto MJ20V; CLPfq: if (!($q < count($queries))) { goto ui9pI; } goto d7b8u; dxnmu: eRhlt: goto mHXF3; YFLpK: $filter["\x57\114"] = $request->WL ?? ''; goto IxiI6; mHXF3: $q++; goto leZT_; qtTzz: $filter["\x45\116\104\137\x44\x41\x54\x45"] = $request->END_DATE ?? ''; goto NASkU; NASkU: $results = $this->book_service->get($filter); goto l0sxE; ouCPn: ui9pI: goto jrSWM; G25nu: $filter["\113\x41\x42\x55\x50\101\124\105\116"] = $request->KABUPATEN ?? ''; goto YFLpK; jrSWM: } catch (Throwable $th) { $logs->write("\x45\122\122\x4f\x52", $th->getMessage()); } goto xvOjT; yKL7i: if (!$request->has("\156\x6f\x64\x61\164\141")) { goto BRaZn; } goto DQ87a; TDGQu: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\x6f\147"); goto E6Jpj; DcZaF: $results = []; goto nYGPn; xvOjT: $logs->write(__FUNCTION__, "\123\124\x4f\x50\xd\xa"); goto VOKlw; Qvvf0: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto QKYd1; MOMbv: aaClj: goto A94WE; RRBu0: $results = []; goto yr1NH; ZXIwv: gZZQJ: goto qJmTQ; Nlvje: if (!($q < count($queries))) { goto aaClj; } goto b8bSR; JEfRv: goto ibAwI; goto MOMbv; qJmTQ: $q++; goto JEfRv; srMnl: return Excel::download(new ReadBookUserExport($results), "\114\x61\160\x6f\162\x61\x6e\137\102\141\x63\141\x5f\102\x75\x6b\165\56\x78\x6c\x73\x78"); goto T_zeJ; cl2LX: $queries = DB::getQueryLog(); goto yMyWs; b8bSR: $sql = Str::replaceArray("\x3f", $queries[$q]["\142\151\x6e\144\151\156\x67\163"], str_replace("\x3f", "\x27\x3f\x27", $queries[$q]["\161\x75\145\162\171"])); goto KmBky; yr1NH: try { goto oahFu; efWvd: $this->book_service->get($filter)->map(function ($value, $i) use(&$results) { goto pc4LJ; ieUpY: $results[$i]["\x70\x72\x6f\x76\151\156\163\151\x5f\x6e\141\155\145"] = $value->provinsi_name; goto Xs553; ZQ8w4: $results[$i]["\156\141\x6d\x65"] = $value->name; goto zavQN; pc4LJ: $results[$i]["\167\154\137\156\x61\155\145"] = $value->wl_name; goto ieUpY; nqmJl: $results[$i]["\x64\151\x62\141\143\141"] = $value->dibaca; goto ZQ8w4; zavQN: $results[$i]["\144\x75\x72\141\163\x69"] = $value->durasi; goto h9oqL; Xs553: $results[$i]["\153\141\x62\x75\x70\x61\x74\145\156\x5f\x6e\x61\x6d\145"] = $value->kabupaten_name; goto nqmJl; h9oqL: }); goto ubncE; d3fOv: $filter["\113\101\102\125\x50\101\124\x45\x4e"] = $request->KABUPATEN ?? ''; goto xdP4_; oahFu: DB::enableQueryLog(); goto KiZO0; xdP4_: $filter["\x57\114"] = $request->WL ?? ''; goto dPFrh; Jo6yX: $filter["\105\x4e\104\137\x44\101\124\105"] = $request->END_DATE ?? ''; goto efWvd; KiZO0: $filter["\120\x52\117\126\111\116\123\x49"] = $request->PROVINSI ?? ''; goto d3fOv; dPFrh: $filter["\x53\x54\x41\x52\124\x5f\x44\x41\x54\105"] = $request->START_DATE ?? ''; goto Jo6yX; ubncE: } catch (\Exception $e) { $logs->write("\x45\122\x52\x4f\122", $e->getMessage()); } goto cl2LX; h_G4s: $logs->write(__FUNCTION__, "\123\124\x41\x52\124"); goto RRBu0; yMyWs: $q = 0; goto ttXni; ttXni: ibAwI: goto Nlvje; KmBky: $logs->write("\102\x49\x4e\x44\111\x4e\x47", "\133" . implode("\54\x20", $queries[$q]["\142\151\156\144\x69\x6e\147\x73"]) . "\135"); goto WZIJj; QKYd1: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\x4c\157\x67"); goto h_G4s; WZIJj: $logs->write("\123\x51\114", $sql); goto ZXIwv; A94WE: $logs->write(__FUNCTION__, "\x53\x54\x4f\x50\xd\12"); goto srMnl; T_zeJ: } }
