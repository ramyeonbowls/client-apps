<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\ReadbookExport; use App\Services\Report\ReadBookService; use Yajra\DataTables\Facades\DataTables; class ReadBookController extends Controller { private ReadBookService $book_service; public function __construct() { $this->middleware("\x61\165\164\x68"); $this->book_service = new ReadBookService(); } public function index(Request $request) : JsonResponse { goto SXwtq; IRL40: $results = []; goto Sz3Pe; H9fGr: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\x4c\157\147"); goto LIDA8; Sz3Pe: try { goto RoZjS; B_fCu: $q++; goto Q7hkC; SOhDu: $filter["\x53\x54\x41\122\x54\137\x44\101\124\x45"] = $request->START_DATE ?? ''; goto Cbql2; nLbJ0: $filter["\x50\122\x4f\x56\x49\116\x53\111"] = $request->PROVINSI ?? ''; goto GqS3k; DHh5l: wL2EY: goto B_fCu; e4UDE: $q = 0; goto iTu7f; QhT5S: $logs->write("\102\111\x4e\104\111\x4e\107", "\133" . implode("\54\x20", $queries[$q]["\x62\151\156\x64\151\x6e\x67\x73"]) . "\135"); goto AAadi; Cbql2: $filter["\x45\x4e\x44\x5f\x44\x41\124\x45"] = $request->END_DATE ?? ''; goto MSbqp; OnbMm: $queries = DB::getQueryLog(); goto e4UDE; iTu7f: uE7os: goto X3X_u; GqS3k: $filter["\113\x41\102\x55\120\x41\x54\105\x4e"] = $request->KABUPATEN ?? ''; goto BxV0q; Ql98H: $sql = Str::replaceArray("\x3f", $queries[$q]["\142\151\x6e\x64\151\x6e\147\163"], str_replace("\x3f", "\x27\77\x27", $queries[$q]["\x71\165\145\x72\x79"])); goto QhT5S; RoZjS: DB::enableQueryLog(); goto nLbJ0; X3X_u: if (!($q < count($queries))) { goto v7Qis; } goto Ql98H; MSbqp: $results = $this->book_service->get($filter); goto OnbMm; Q7hkC: goto uE7os; goto SX2hh; AAadi: $logs->write("\123\x51\114", $sql); goto DHh5l; BxV0q: $filter["\127\114"] = $request->WL ?? ''; goto SOhDu; SX2hh: v7Qis: goto nPJXO; nPJXO: } catch (Throwable $th) { $logs->write("\105\x52\122\x4f\x52", $th->getMessage()); } goto ZJWf3; LIDA8: $logs->write(__FUNCTION__, "\x53\124\x41\x52\124"); goto IRL40; G2zKz: l3ZnR: goto H9fGr; ZJWf3: $logs->write(__FUNCTION__, "\123\x54\117\x50\xd\12"); goto nSTTA; nSTTA: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto go4d_; SXwtq: if (!$request->has("\x6e\157\x64\x61\164\141")) { goto l3ZnR; } goto D6Doh; D6Doh: return DataTables::of([])->toJson(); goto G2zKz; go4d_: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto QRtgA; MGAWX: $sql = Str::replaceArray("\77", $queries[$q]["\x62\151\156\x64\x69\156\147\x73"], str_replace("\77", "\47\77\x27", $queries[$q]["\x71\x75\145\x72\171"])); goto JtkBs; QRtgA: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\x4c\157\x67"); goto ctPCL; nE8eL: if (!($q < count($queries))) { goto OQo3k; } goto MGAWX; kLau5: return Excel::download(new ReadbookExport($results), "\x4c\141\160\157\162\141\156\x5f\x42\141\143\141\x5f\102\x75\153\x75\x2e\170\x6c\x73\170"); goto mxVdt; D8kWd: $q++; goto C0dQm; eONlq: $q = 0; goto rdn_I; cGF7U: $results = []; goto Um1B3; pV4J8: wCzs1: goto D8kWd; OkzIh: $logs->write("\x53\121\114", $sql); goto pV4J8; C0dQm: goto Lc0NL; goto RO9IY; Um1B3: try { goto Uq4Ud; bO0Jb: $filter["\123\x54\101\x52\124\137\x44\101\x54\x45"] = $request->START_DATE ?? ''; goto j_VQ2; Z61Iz: $this->book_service->get($filter)->map(function ($value, $i) use(&$results) { goto ige5x; ige5x: $results[$i]["\167\154\137\156\141\x6d\145"] = $value->wl_name; goto JVGb1; zgcen: $results[$i]["\160\145\155\x62\141\x63\141"] = $value->pembaca; goto zwS7h; Bi7XS: $results[$i]["\153\141\142\x75\x70\141\164\145\156\x5f\x6e\141\155\145"] = $value->kabupaten_name; goto zgcen; zwS7h: $results[$i]["\x64\165\162\141\x73\x69"] = $value->durasi; goto CHLfC; JVGb1: $results[$i]["\x70\162\x6f\166\x69\x6e\x73\x69\137\156\x61\155\x65"] = $value->provinsi_name; goto Bi7XS; CHLfC: }); goto zprzz; j_VQ2: $filter["\105\x4e\x44\137\104\x41\x54\105"] = $request->END_DATE ?? ''; goto Z61Iz; MnP0O: $filter["\120\122\117\126\x49\x4e\x53\111"] = $request->PROVINSI ?? ''; goto uJKBe; Uq4Ud: DB::enableQueryLog(); goto MnP0O; uJKBe: $filter["\x4b\101\102\x55\x50\101\124\x45\x4e"] = $request->KABUPATEN ?? ''; goto H_CZJ; H_CZJ: $filter["\127\x4c"] = $request->WL ?? ''; goto bO0Jb; zprzz: } catch (\Exception $e) { $logs->write("\105\122\122\x4f\x52", $e->getMessage()); } goto FRK2w; FRK2w: $queries = DB::getQueryLog(); goto eONlq; JtkBs: $logs->write("\102\111\116\104\x49\x4e\107", "\x5b" . implode("\x2c\40", $queries[$q]["\x62\x69\156\x64\x69\x6e\147\163"]) . "\135"); goto OkzIh; ivTiD: $logs->write(__FUNCTION__, "\x53\x54\x4f\x50\xd\12"); goto kLau5; RO9IY: OQo3k: goto ivTiD; ctPCL: $logs->write(__FUNCTION__, "\x53\124\x41\x52\124"); goto cGF7U; rdn_I: Lc0NL: goto nE8eL; mxVdt: } }
