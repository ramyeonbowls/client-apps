<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:19             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\ReadFiturReportExport; use App\Services\Report\ReadFiturReportService; use Yajra\DataTables\Facades\DataTables; class ReadFiturReportController extends Controller { private ReadFiturReportService $readfitur_service; public function __construct() { $this->middleware("\141\x75\164\x68"); $this->readfitur_service = new ReadFiturReportService(); } public function index(Request $request) : JsonResponse { goto TWEar; AQ1_n: iGAsd: goto yuhTb; R5qRj: return DataTables::of([])->toJson(); goto AQ1_n; yuhTb: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\x6f\x67"); goto pAwwl; JLhsk: try { goto ZD2ZF; NIIqA: $filter["\x45\x4e\x44\x5f\104\101\124\x45"] = $request->END_DATE ?? ''; goto efBwm; uxOgF: $queries = DB::getQueryLog(); goto Dt8_x; vLKbj: $filter["\123\x54\x41\x52\124\137\104\x41\124\x45"] = $request->START_DATE ?? ''; goto NIIqA; ZD2ZF: DB::enableQueryLog(); goto vp4cV; lPGdS: $logs->write("\x42\x49\x4e\x44\111\116\x47", "\133" . implode("\x2c\40", $queries[$q]["\x62\151\x6e\x64\x69\x6e\147\163"]) . "\x5d"); goto LMIPv; TWhUY: goto DC29s; goto tS31f; Dt8_x: $q = 0; goto BwgWo; tS31f: hhInx: goto u0bKk; FOWcJ: $q++; goto TWhUY; yXShr: $filter["\113\x41\102\x55\120\x41\124\105\x4e"] = $request->KABUPATEN ?? ''; goto eXhvb; kRSsz: Ly2fM: goto FOWcJ; LMIPv: $logs->write("\x53\x51\x4c", $sql); goto kRSsz; efBwm: $results = $this->readfitur_service->get($filter); goto uxOgF; BwgWo: DC29s: goto Qx9NX; vp4cV: $filter["\x50\x52\x4f\126\x49\116\x53\111"] = $request->PROVINSI ?? ''; goto yXShr; Qx9NX: if (!($q < count($queries))) { goto hhInx; } goto XLgQ7; XLgQ7: $sql = Str::replaceArray("\x3f", $queries[$q]["\142\x69\x6e\144\151\x6e\x67\x73"], str_replace("\77", "\x27\x3f\x27", $queries[$q]["\x71\x75\x65\162\x79"])); goto lPGdS; eXhvb: $filter["\127\x4c"] = $request->WL ?? ''; goto vLKbj; u0bKk: } catch (Throwable $th) { $logs->write("\x45\x52\x52\117\x52", $th->getMessage()); } goto yy6EA; TWEar: if (!$request->has("\156\157\144\x61\164\x61")) { goto iGAsd; } goto R5qRj; TeGJA: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto GKfD8; el_07: $results = []; goto JLhsk; yy6EA: $logs->write(__FUNCTION__, "\x53\124\x4f\x50\xd\xa"); goto TeGJA; pAwwl: $logs->write(__FUNCTION__, "\x53\x54\101\x52\x54"); goto el_07; GKfD8: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto s54kg; OxC27: goto SnyZa; goto YW5XU; T5blQ: $logs->write("\x42\x49\116\104\111\116\107", "\133" . implode("\54\40", $queries[$q]["\x62\x69\x6e\144\x69\156\147\163"]) . "\x5d"); goto vISkb; OEE_O: try { goto vH1Vg; UCIzD: $filter["\x57\114"] = $request->WL ?? ''; goto W_SRI; kO7as: $filter["\105\x4e\x44\x5f\104\x41\124\105"] = $request->END_DATE ?? ''; goto quprA; vH1Vg: DB::enableQueryLog(); goto ZdjGs; W_SRI: $filter["\123\x54\x41\x52\x54\137\x44\x41\x54\x45"] = $request->START_DATE ?? ''; goto kO7as; ZdjGs: $filter["\x50\x52\117\126\111\116\123\x49"] = $request->PROVINSI ?? ''; goto j8P6g; quprA: $this->readfitur_service->get($filter)->map(function ($value, $i) use(&$results) { goto ul4Ve; CfmPm: $results[$i]["\164\x69\x74\x6c\x65"] = $value->title; goto w63hZ; xs9Cd: $results[$i]["\160\162\157\x76\151\156\163\151\137\x6e\x61\x6d\145"] = $value->provinsi_name; goto LBmDV; Y0Cmp: $results[$i]["\146\x69\x74\165\x72"] = $value->fitur; goto CfmPm; LBmDV: $results[$i]["\153\x61\142\165\x70\x61\x74\145\x6e\x5f\x6e\x61\x6d\x65"] = $value->kabupaten_name; goto Y0Cmp; w63hZ: $results[$i]["\162\x65\x61\x64\x65\162"] = $value->reader; goto MY3WK; ul4Ve: $results[$i]["\167\154\137\156\141\155\x65"] = $value->wl_name; goto xs9Cd; MY3WK: }); goto OvFZj; j8P6g: $filter["\113\x41\x42\x55\x50\101\124\x45\116"] = $request->KABUPATEN ?? ''; goto UCIzD; OvFZj: } catch (\Exception $e) { $logs->write("\105\122\x52\x4f\x52", $e->getMessage()); } goto T2rhO; y40SP: $logs->write(__FUNCTION__, "\123\x54\101\x52\124"); goto CY_v0; ioyA7: XmEZu: goto ELy9w; YW5XU: VK3BX: goto PWJaP; vISkb: $logs->write("\x53\x51\x4c", $sql); goto ioyA7; T2rhO: $queries = DB::getQueryLog(); goto N3yLS; N3yLS: $q = 0; goto vf_Bt; qQ3P8: if (!($q < count($queries))) { goto VK3BX; } goto sJhA4; CY_v0: $results = []; goto OEE_O; sJhA4: $sql = Str::replaceArray("\x3f", $queries[$q]["\142\151\x6e\x64\x69\x6e\147\163"], str_replace("\x3f", "\x27\77\x27", $queries[$q]["\x71\x75\145\x72\171"])); goto T5blQ; s54kg: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\x6f\147"); goto y40SP; tSePn: return Excel::download(new ReadFiturReportExport($results), "\x4c\x61\160\157\x72\x61\x6e\137\102\141\x63\141\137\102\165\153\165\x2e\170\x6c\163\x78"); goto MTrcl; vf_Bt: SnyZa: goto qQ3P8; PWJaP: $logs->write(__FUNCTION__, "\123\x54\117\x50\xd\xa"); goto tSePn; ELy9w: $q++; goto OxC27; MTrcl: } }
