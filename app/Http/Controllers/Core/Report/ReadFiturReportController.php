<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\ReadFiturReportExport; use App\Services\Report\ReadFiturReportService; use Yajra\DataTables\Facades\DataTables; class ReadFiturReportController extends Controller { private ReadFiturReportService $readfitur_service; public function __construct() { $this->middleware("\x61\165\x74\150"); $this->readfitur_service = new ReadFiturReportService(); } public function index(Request $request) : JsonResponse { goto FwyJW; HXkt0: $logs->write(__FUNCTION__, "\x53\124\101\122\124"); goto zCGaw; Ogo6A: zNmDV: goto kud5R; qbuGW: return DataTables::of([])->toJson(); goto Ogo6A; wNuRO: $logs->write(__FUNCTION__, "\x53\x54\x4f\x50\xd\xa"); goto ku8wk; zCGaw: $results = []; goto Wm91_; Wm91_: try { goto LyGAz; B70fC: E_eiC: goto ATCXU; UJJIW: iGdXw: goto SXUcr; PCWVX: $results = $this->readfitur_service->get($filter); goto zW5LE; ZwR5H: $logs->write("\102\x49\116\x44\111\x4e\107", "\x5b" . implode("\54\40", $queries[$q]["\142\151\x6e\x64\x69\x6e\x67\x73"]) . "\x5d"); goto acy6_; e4RAM: $sql = Str::replaceArray("\77", $queries[$q]["\x62\151\156\144\x69\156\147\x73"], str_replace("\77", "\x27\x3f\47", $queries[$q]["\161\165\x65\162\x79"])); goto ZwR5H; acy6_: $logs->write("\123\x51\x4c", $sql); goto W_kF9; M0nnY: $filter["\x50\x52\117\126\x49\116\x53\111"] = $request->PROVINSI ?? ''; goto Zmv6D; SXUcr: if (!($q < count($queries))) { goto E_eiC; } goto e4RAM; xHCX5: $q++; goto DvSlL; Zmv6D: $filter["\x4b\x41\102\x55\x50\x41\x54\105\x4e"] = $request->KABUPATEN ?? ''; goto ZB18h; LyGAz: DB::enableQueryLog(); goto M0nnY; zW5LE: $queries = DB::getQueryLog(); goto QVxiq; DvSlL: goto iGdXw; goto B70fC; QVxiq: $q = 0; goto UJJIW; W_kF9: XXInQ: goto xHCX5; VHWDV: $filter["\123\124\101\x52\x54\x5f\x44\101\x54\105"] = $request->START_DATE ?? ''; goto DQsD1; ZB18h: $filter["\x57\x4c"] = $request->WL ?? ''; goto VHWDV; DQsD1: $filter["\105\116\x44\137\x44\101\x54\x45"] = $request->END_DATE ?? ''; goto PCWVX; ATCXU: } catch (Throwable $th) { $logs->write("\x45\x52\x52\117\122", $th->getMessage()); } goto wNuRO; kud5R: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\114\x6f\x67"); goto HXkt0; FwyJW: if (!$request->has("\156\157\144\x61\x74\x61")) { goto zNmDV; } goto qbuGW; ku8wk: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto ZuY0K; ZuY0K: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto qP_FW; czpj9: $logs->write("\123\x51\114", $sql); goto w8IYx; nPSOH: return Excel::download(new ReadFiturReportExport($results), "\114\x61\x70\x6f\x72\141\156\x5f\x42\x61\143\141\x5f\102\165\x6b\x75\x2e\x78\x6c\163\170"); goto A_lTK; oSUTB: goto jOZ6e; goto D60Tn; w8IYx: P166t: goto sQNf_; D60Tn: o3NeY: goto v8__p; dDaHW: if (!($q < count($queries))) { goto o3NeY; } goto ttXpr; v8__p: $logs->write(__FUNCTION__, "\x53\124\117\120\xd\12"); goto nPSOH; qP_FW: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\x4c\157\x67"); goto DEv_l; DEv_l: $logs->write(__FUNCTION__, "\x53\124\x41\x52\x54"); goto nVN0F; sQNf_: $q++; goto oSUTB; y58N_: jOZ6e: goto dDaHW; U3nZD: $logs->write("\x42\111\116\x44\x49\x4e\x47", "\133" . implode("\54\40", $queries[$q]["\x62\151\156\x64\x69\156\147\x73"]) . "\x5d"); goto czpj9; ttXpr: $sql = Str::replaceArray("\77", $queries[$q]["\x62\x69\156\144\x69\156\x67\163"], str_replace("\x3f", "\47\x3f\x27", $queries[$q]["\x71\x75\145\162\171"])); goto U3nZD; nVN0F: $results = []; goto vhU3H; vhU3H: try { goto Eidic; EXqJu: $filter["\x57\x4c"] = $request->WL ?? ''; goto wQWkW; w0YPt: $filter["\105\x4e\104\137\104\101\x54\105"] = $request->END_DATE ?? ''; goto MDRTB; vUtJf: $filter["\x50\122\117\126\111\x4e\123\x49"] = $request->PROVINSI ?? ''; goto DkKu_; Eidic: DB::enableQueryLog(); goto vUtJf; MDRTB: $this->readfitur_service->get($filter)->map(function ($value, $i) use(&$results) { goto BCiSy; Cbyt6: $results[$i]["\160\x72\157\166\x69\156\x73\151\x5f\156\141\x6d\x65"] = $value->provinsi_name; goto VTACX; NsTH6: $results[$i]["\x74\x69\x74\154\145"] = $value->title; goto vQyqx; vQyqx: $results[$i]["\162\145\x61\x64\x65\162"] = $value->reader; goto KthAP; BCiSy: $results[$i]["\x77\154\137\156\x61\x6d\x65"] = $value->wl_name; goto Cbyt6; VTACX: $results[$i]["\153\141\142\165\x70\x61\164\x65\x6e\x5f\x6e\141\x6d\x65"] = $value->kabupaten_name; goto s1220; s1220: $results[$i]["\146\151\164\x75\162"] = $value->fitur; goto NsTH6; KthAP: }); goto Cv_CW; wQWkW: $filter["\123\x54\101\122\x54\137\x44\x41\x54\105"] = $request->START_DATE ?? ''; goto w0YPt; DkKu_: $filter["\113\101\102\x55\x50\101\x54\105\116"] = $request->KABUPATEN ?? ''; goto EXqJu; Cv_CW: } catch (\Exception $e) { $logs->write("\x45\x52\122\x4f\122", $e->getMessage()); } goto Y3xbD; os1oL: $q = 0; goto y58N_; Y3xbD: $queries = DB::getQueryLog(); goto os1oL; A_lTK: } }
