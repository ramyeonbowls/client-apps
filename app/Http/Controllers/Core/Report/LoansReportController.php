<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Core\Report; use App\Logs; use Exception; use Throwable; use Carbon\Carbon; use Illuminate\Support\Arr; use Illuminate\Support\Str; use Illuminate\Http\Request; use Illuminate\Http\JsonResponse; use Illuminate\Support\Facades\DB; use App\Http\Controllers\Controller; use Maatwebsite\Excel\Facades\Excel; use App\Exports\Report\LoansReportExport; use App\Services\Report\LoansReportService; use Yajra\DataTables\Facades\DataTables; class LoansReportController extends Controller { private LoansReportService $loans_service; public function __construct() { $this->middleware("\141\165\164\150"); $this->loans_service = new LoansReportService(); } public function index(Request $request) : JsonResponse { goto S0cOA; F4a8G: return DataTables::of([])->toJson(); goto PbPiP; TmApG: return DataTables::of($results)->escapeColumns()->addIndexColumn()->toJson(); goto Ilm2I; J0hhD: try { goto ZrsbB; zc9mH: $filter["\123\x54\101\x52\124\x5f\x44\x41\x54\105"] = $request->START_DATE ?? ''; goto KUrjO; iEY_K: $queries = DB::getQueryLog(); goto qGXMh; VexG2: sC0Lz: goto iCFJp; CQg9G: $filter["\x4b\101\102\x55\120\101\x54\x45\116"] = $request->KABUPATEN ?? ''; goto zNFwS; cfT3b: $logs->write("\123\x51\x4c", $sql); goto x3g37; A1f1o: $logs->write("\x42\x49\116\x44\x49\x4e\107", "\133" . implode("\x2c\40", $queries[$q]["\142\x69\156\x64\151\x6e\147\163"]) . "\135"); goto cfT3b; zNFwS: $filter["\x57\x4c"] = $request->WL ?? ''; goto zc9mH; tBgig: $sql = Str::replaceArray("\x3f", $queries[$q]["\x62\151\x6e\x64\151\x6e\147\163"], str_replace("\x3f", "\47\77\47", $queries[$q]["\161\x75\x65\162\x79"])); goto A1f1o; Ey1pS: goto sC0Lz; goto qzQtA; qzQtA: LAHmW: goto cedHJ; x3g37: Mypqc: goto TVn2v; KUrjO: $filter["\x45\116\x44\x5f\104\101\x54\x45"] = $request->END_DATE ?? ''; goto nDkC4; iCFJp: if (!($q < count($queries))) { goto LAHmW; } goto tBgig; TVn2v: $q++; goto Ey1pS; tJRpm: $filter["\x50\122\117\x56\x49\116\x53\111"] = $request->PROVINSI ?? ''; goto CQg9G; nDkC4: $filter["\123\124\x41\x54\125\123"] = $request->STATUS ?? ''; goto sC3uE; ZrsbB: DB::enableQueryLog(); goto tJRpm; sC3uE: $results = $this->loans_service->get($filter); goto iEY_K; qGXMh: $q = 0; goto VexG2; cedHJ: } catch (Throwable $th) { $logs->write("\x45\122\122\x4f\122", $th->getMessage()); } goto yg3Ev; PbPiP: pZp0E: goto H_yLf; S0cOA: if (!$request->has("\x6e\157\144\x61\x74\141")) { goto pZp0E; } goto F4a8G; B1OUB: $logs->write(__FUNCTION__, "\x53\x54\x41\x52\x54"); goto GeLmQ; yg3Ev: $logs->write(__FUNCTION__, "\x53\x54\x4f\120\15\xa"); goto TmApG; GeLmQ: $results = []; goto J0hhD; H_yLf: $logs = new Logs(Arr::last(explode("\134", get_class())) . "\114\157\x67"); goto B1OUB; Ilm2I: } public function store() { } public function show(string $id) : JsonResponse { return response()->json($id, 200); } public function update() { } public function destroy(string $id) : JsonResponse { } public function ExportXLS(Request $request) { goto zdODL; xKcbA: $results = []; goto KRXNk; Ci8qo: if (!($q < count($queries))) { goto CyfmY; } goto k_W8t; KRXNk: try { goto nf0JT; zlKyi: $this->loans_service->get($filter)->map(function ($value, $i) use(&$results) { goto iyAX8; a9yPQ: $results[$i]["\160\162\157\166\151\156\x73\x69\x5f\156\x61\155\145"] = $value->provinsi_name; goto fSGhv; XIAKa: $results[$i]["\156\x61\155\x65"] = $value->name; goto NjLlT; Md4Sy: $results[$i]["\145\156\144\x5f\x64\x61\x74\145"] = $value->end_date; goto C1lFO; fSGhv: $results[$i]["\x6b\141\142\x75\x70\x61\164\x65\x6e\137\x6e\x61\155\x65"] = $value->kabupaten_name; goto XIAKa; iyAX8: $results[$i]["\167\x6c\x5f\x6e\141\x6d\145"] = $value->wl_name; goto a9yPQ; NjLlT: $results[$i]["\163\x74\141\162\x74\x5f\x64\141\164\145"] = $value->start_date; goto ylpw5; C1lFO: $results[$i]["\x66\154\141\147\x5f\145\x6e\x64"] = $value->flag_end == "\x59" ? "\104\x69\153\145\155\142\141\154\x69\153\141\156" : "\x44\x69\x70\151\156\152\141\155"; goto mP5zT; ylpw5: $results[$i]["\x74\x69\164\154\x65"] = $value->title; goto Md4Sy; mP5zT: }); goto cHMKj; tDtnx: $filter["\x4b\x41\102\125\120\x41\x54\x45\116"] = $request->KABUPATEN ?? ''; goto hrmfA; Vp4gS: $filter["\105\x4e\x44\137\104\101\x54\105"] = $request->END_DATE ?? ''; goto zy6q9; hrmfA: $filter["\127\x4c"] = $request->WL ?? ''; goto wOLtb; nf0JT: DB::enableQueryLog(); goto BofwH; BofwH: $filter["\120\x52\x4f\x56\111\x4e\123\x49"] = $request->PROVINSI ?? ''; goto tDtnx; zy6q9: $filter["\x53\124\x41\124\125\123"] = $request->STATUS ?? ''; goto zlKyi; wOLtb: $filter["\x53\x54\101\x52\x54\137\104\x41\124\x45"] = $request->START_DATE ?? ''; goto Vp4gS; cHMKj: } catch (\Exception $e) { $logs->write("\105\x52\122\117\x52", $e->getMessage()); } goto TiujA; xvWJy: goto YpExN; goto OwGy5; J32CB: $logs->write(__FUNCTION__, "\x53\124\117\x50\15\xa"); goto xrxs7; c25qL: $q++; goto xvWJy; OwGy5: CyfmY: goto J32CB; CP4An: $logs->write(__FUNCTION__, "\123\x54\x41\x52\x54"); goto xKcbA; P04C4: O94D_: goto c25qL; WzTQU: $q = 0; goto unXFA; zdODL: $logs = new Logs(Arr::last(explode("\x5c", get_class())) . "\x4c\x6f\147"); goto CP4An; Ia6j6: $logs->write("\x53\121\114", $sql); goto P04C4; unXFA: YpExN: goto Ci8qo; Jrh5S: $logs->write("\x42\x49\x4e\x44\x49\116\107", "\133" . implode("\54\40", $queries[$q]["\142\x69\x6e\144\x69\x6e\x67\x73"]) . "\135"); goto Ia6j6; xrxs7: return Excel::download(new LoansReportExport($results), "\x4c\141\x70\x6f\162\141\x6e\x5f\102\141\x63\141\x5f\102\x75\153\165\x2e\170\154\163\170"); goto GgYr8; TiujA: $queries = DB::getQueryLog(); goto WzTQU; k_W8t: $sql = Str::replaceArray("\77", $queries[$q]["\142\x69\x6e\x64\x69\156\x67\163"], str_replace("\x3f", "\47\77\x27", $queries[$q]["\161\165\x65\x72\x79"])); goto Jrh5S; GgYr8: } }
