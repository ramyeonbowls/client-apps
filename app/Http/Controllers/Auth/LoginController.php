<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-18 10:11:19             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Auth; use App\Models\User; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; use Illuminate\Foundation\Auth\AuthenticatesUsers; class LoginController extends Controller { use AuthenticatesUsers; protected $redirectTo = "\x2f"; protected $client_id = ''; public function __construct() { goto ICvF8; kEo38: $this->client_id = config("\141\x70\x70\x2e\143\154\151\145\x6e\164\x5f\151\144", ''); goto Wm4hH; pU8nx: $this->middleware("\x61\x75\x74\150")->only("\154\x6f\147\157\x75\x74"); goto kEo38; ICvF8: $this->middleware("\147\165\x65\x73\x74")->except("\154\157\x67\157\x75\164"); goto pU8nx; Wm4hH: } protected function authenticated(Request $request, $user) { goto CW62w; iQkw8: if (!($user && $user->role != "\155\145\x6d\x62\145\162")) { goto Z8xHh; } goto evNZh; RHbVG: \Log::info("\155\x65\x6d\142\x65\x72"); goto hD2Sd; O1RUK: Z8xHh: goto RHbVG; CW62w: \Log::info("\x55\x73\x65\162\40\x72\x6f\154\x65\72\x20" . $user->role); goto iQkw8; cnWjl: return redirect("\57\141\x64\x6d\x69\156"); goto O1RUK; evNZh: \Log::info("\141\x64\x6d\x69\156"); goto cnWjl; hD2Sd: return redirect($this->redirectTo); goto BzL1i; BzL1i: } public function login(Request $request) { goto tU3Kp; vDOIU: if (!($request->has("\x66\162\157\155") && $request->input("\146\162\157\155") == "\x6d\x65\155\x62\145\162")) { goto bISxU; } goto ERw_8; ERw_8: return response()->json(["\155\x65\163\163\141\147\145" => "\x47\x61\147\x61\154\x20\114\x6f\147\x69\x6e\x2e", "\145\162\x72\157\x72\x73" => ["\145\x6d\141\151\x6c" => ["\105\155\x61\151\x6c\x20\x61\x74\141\x75\40\x70\141\163\163\167\157\162\x64\40\163\141\x6c\x61\x68\56"]]], 422); goto vJo3i; GXwwp: if (!Auth::attempt($request->only("\145\x6d\x61\151\x6c", "\x70\x61\163\163\167\157\162\144"))) { goto oUAQ8; } goto xsbz_; xsbz_: return $this->authenticated($request, Auth::user()); goto oH98C; KXgCt: return response()->json(["\155\x65\x73\163\141\x67\145" => "\x41\153\165\156\40\x61\156\144\141\40\142\145\x6c\x75\155\40\x64\x69\40\x61\x70\x70\x72\x6f\x76\145\x2c\x20\x73\151\154\x61\x68\153\x61\x6e\40\x68\x75\x62\x75\156\x67\151\x20\160\x65\x74\x75\147\141\163\40\x70\x65\x72\160\165\x73\164\141\x6b\141\x61\156\x2e"], 403); goto dtMrY; l39AU: if (!($user && $user->flag_approve === "\116")) { goto ykW0G; } goto KXgCt; QSIh1: if (!($user && $user->role === "\x6d\x65\155\x62\x65\162")) { goto scOYg; } goto JqFHF; AAPe8: return redirect()->back()->withErrors(["\145\155\x61\x69\x6c" => "\x45\x6d\141\x69\154\40\x61\164\x61\x75\x20\x70\x61\x73\x73\167\157\162\144\x20\163\x61\x6c\141\150\x2e"])->withInput(["\145\x6d\141\x69\154" => $request->email]); goto oJPnS; dtMrY: ykW0G: goto GXwwp; vJo3i: bISxU: goto PNaOI; tU3Kp: $this->validate($request, ["\x65\x6d\x61\151\154" => "\x72\145\161\x75\151\x72\x65\144\174\145\155\x61\151\154", "\160\x61\x73\x73\x77\x6f\162\x64" => "\162\x65\x71\x75\151\x72\145\x64"]); goto krfky; oH98C: oUAQ8: goto QSIh1; LlDc8: scOYg: goto AAPe8; krfky: $user = User::where("\x65\x6d\x61\x69\154", $request->email)->where("\143\x6c\151\x65\x6e\x74\137\151\144", $this->client_id)->first(); goto kRqaW; JqFHF: return response()->json(["\x6d\x65\163\x73\x61\x67\145" => "\107\141\147\141\154\x20\x4c\x6f\147\x69\156\56", "\x65\162\162\x6f\x72\163" => ["\145\155\141\x69\154" => ["\x45\x6d\x61\x69\x6c\x20\x61\164\x61\165\x20\160\x61\x73\x73\167\157\162\144\x20\x73\x61\x6c\141\x68\56"]]], 422); goto LlDc8; PNaOI: return redirect()->back()->withErrors(["\145\x6d\141\x69\x6c" => "\x45\x6d\x61\x69\154\40\141\164\141\x75\x20\160\x61\163\163\167\157\x72\144\x20\163\x61\x6c\x61\150\56"])->withInput(["\x65\x6d\x61\151\154" => $request->email]); goto fhcCc; kRqaW: if ($user) { goto egwbe; } goto vDOIU; fhcCc: egwbe: goto l39AU; oJPnS: } }
