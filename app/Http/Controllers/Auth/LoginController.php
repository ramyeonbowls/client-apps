<?php
/*   __________________________________________________
    |  Obfuscated by Tarmun - Php Obfuscator  2.0.14  |
    |              on 2024-11-23 17:36:13             |
    |                                                 |
    |_________________________________________________|
*/
 namespace App\Http\Controllers\Auth; use App\Models\User; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; use Illuminate\Foundation\Auth\AuthenticatesUsers; class LoginController extends Controller { use AuthenticatesUsers; protected $redirectTo = "\57"; protected $client_id = ''; public function __construct() { goto IYY5V; IYY5V: $this->middleware("\x67\165\145\163\x74")->except("\154\157\x67\x6f\x75\x74"); goto Zij5C; Zij5C: $this->middleware("\x61\x75\164\150")->only("\154\157\x67\157\x75\x74"); goto WT2mb; WT2mb: $this->client_id = config("\x61\x70\160\56\143\x6c\151\x65\156\164\x5f\151\144", ''); goto h6P49; h6P49: } protected function authenticated(Request $request, $user) { goto DzPHc; DzPHc: \Log::info("\125\163\145\x72\40\162\x6f\154\x65\x3a\40" . $user->role); goto gNb5Q; ZZm2K: \Log::info("\141\x64\155\151\156"); goto NEzwp; FuJ05: \Log::info("\x6d\x65\155\142\145\x72"); goto covYI; gNb5Q: if (!($user && $user->role != "\155\x65\155\142\145\x72")) { goto ETJVe; } goto ZZm2K; NEzwp: return redirect("\x2f\x61\x64\x6d\151\x6e"); goto o5jR4; o5jR4: ETJVe: goto FuJ05; covYI: return redirect($this->redirectTo); goto hSdHU; hSdHU: } public function login(Request $request) { goto CFmnI; zEtdn: if (!Auth::attempt($request->only("\x65\x6d\141\x69\x6c", "\160\141\x73\x73\167\x6f\x72\x64"))) { goto gzlk3; } goto otKt2; xzWW8: F0vgF: goto P5yUD; MUtX1: if (!($user && $user->flag_approve === "\116")) { goto D4E5B; } goto DIf9o; Ed8F5: JqqWw: goto TBOHy; d4Uj7: $user = User::where("\x65\x6d\x61\x69\154", $request->email)->where("\143\x6c\x69\145\156\x74\x5f\151\x64", $this->client_id)->first(); goto JP41Q; u0j3L: gzlk3: goto Alk46; IFNzS: return response()->json(["\155\x65\x73\163\141\147\x65" => "\x47\141\x67\x61\154\x20\x4c\x6f\147\x69\156\56", "\145\162\x72\x6f\x72\x73" => ["\x65\x6d\141\x69\154" => ["\105\155\141\151\x6c\x20\141\164\x61\165\x20\x70\x61\163\x73\167\157\x72\x64\x20\x73\x61\154\141\x68\56"]]], 422); goto xzWW8; P5yUD: return redirect()->back()->withErrors(["\x65\x6d\x61\x69\x6c" => "\x45\155\x61\x69\154\x20\141\164\x61\165\x20\160\141\163\163\x77\157\x72\144\x20\x73\141\154\141\x68\56"])->withInput(["\145\x6d\x61\x69\154" => $request->email]); goto SXy9S; DIf9o: return response()->json(["\155\145\163\x73\x61\147\x65" => "\x41\153\x75\156\40\x61\x6e\x64\141\40\x62\145\154\165\x6d\40\144\151\40\141\160\x70\162\x6f\166\145\x2c\40\163\x69\154\141\x68\153\141\x6e\x20\x68\x75\x62\x75\156\x67\151\40\160\x65\x74\x75\147\141\163\40\x70\145\x72\x70\165\163\164\141\x6b\x61\141\x6e\x2e"], 403); goto koEMY; SXy9S: iFdES: goto MUtX1; d6i5X: return response()->json(["\155\145\163\163\x61\147\145" => "\x47\x61\x67\x61\x6c\40\114\x6f\x67\x69\156\56", "\145\x72\x72\x6f\162\x73" => ["\x65\x6d\141\x69\x6c" => ["\105\x6d\x61\x69\154\40\x61\164\x61\x75\40\x70\x61\163\x73\167\x6f\x72\144\40\x73\141\154\x61\150\56"]]], 422); goto Ed8F5; Alk46: if (!($user && $user->role === "\x6d\145\155\x62\145\x72")) { goto JqqWw; } goto d6i5X; otKt2: return $this->authenticated($request, Auth::user()); goto u0j3L; JP41Q: if ($user) { goto iFdES; } goto Bhqk5; CFmnI: $this->validate($request, ["\145\155\141\x69\154" => "\162\145\x71\x75\151\162\145\144\174\145\x6d\141\151\154", "\x70\141\163\163\167\157\x72\x64" => "\x72\145\x71\x75\151\x72\x65\x64"]); goto d4Uj7; TBOHy: return redirect()->back()->withErrors(["\x65\155\141\x69\x6c" => "\105\155\x61\151\154\40\141\164\141\165\40\x70\141\x73\163\167\x6f\x72\144\40\x73\141\x6c\141\150\56"])->withInput(["\145\x6d\x61\x69\x6c" => $request->email]); goto oS7kW; koEMY: D4E5B: goto zEtdn; Bhqk5: if (!($request->has("\x66\x72\157\x6d") && $request->input("\146\x72\x6f\x6d") == "\x6d\145\155\x62\x65\x72")) { goto F0vgF; } goto IFNzS; oS7kW: } }
